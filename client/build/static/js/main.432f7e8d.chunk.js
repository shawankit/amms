(this.webpackJsonpcli=this.webpackJsonpcli||[]).push([[0],{115:function(e,t,a){"use strict";t.a=[{label:"Name",name:"name",type:"input",inputType:"text"},{label:"Mobile",name:"mobile",type:"input",inputType:"text"},{label:"Type",name:"type",type:"select",inputType:"text",list:"customerType"}]},116:function(e,t,a){"use strict";t.a=[{label:"Name",name:"name",type:"input",inputType:"text"},{label:"Rates",name:"rate",type:"input",inputType:"number"},{label:"Taxable",name:"taxable",type:"select",inputType:"text",list:"taxable",defaultValue:"No"},{label:"GST Rate (%)",name:"gstRate",type:"select",inputType:"number",list:"gstRate",defaultValue:0}]},161:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(120),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(103),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(40),_common_InputField__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(61),_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(27),sweetalert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(36),sweetalert__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(sweetalert__WEBPACK_IMPORTED_MODULE_11__),_data_CustomerData__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(115),_common_SelectField__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(97),_ant_design_icons__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(208),_ant_design_icons__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(209),_MillBulkForm__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(200),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(4),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__),CustomerForm=function CustomerForm(_ref){var data=_ref.data,callback=_ref.callback,setEditData=_ref.setEditData,initialData=_data_CustomerData__WEBPACK_IMPORTED_MODULE_12__.a.reduce((function(e,t){return Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},e),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},t.name,""))}),{}),_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(initialData),_useState2=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),formData=_useState2[0],setFormData=_useState2[1],onChange=function(e){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e.target.name,e.target.value)))},onSelectChange=function(e,t){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e,t)))};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){setFormData(data)}),[data]);var setRatesToData=function(e){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},{rates:Object.values(e)}))},onSubmit=function(){var e=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.a)(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t){var a,n,r,c;return _home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(formData),!data){e.next=9;break}return e.next=4,Object(_api__WEBPACK_IMPORTED_MODULE_10__.r)(data.id,formData);case 4:n=e.sent,console.log(n),1==(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully updated customer details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error"),e.next=14;break;case 9:return e.next=11,Object(_api__WEBPACK_IMPORTED_MODULE_10__.a)(formData);case 11:c=e.sent,console.log(c),1==(null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully added customer details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error");case 14:return reset(),e.next=17,callback();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),reset=function(){setFormData(initialData),setEditData(null)},customerType=[{value:"normal",name:"Normal"},{value:"special",name:"Special"}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{id:"form-div",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:_data_CustomerData__WEBPACK_IMPORTED_MODULE_12__.a.map((function(field){return"input"==field.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_common_InputField__WEBPACK_IMPORTED_MODULE_9__.a,{label:field.label,type:field.inputType,name:field.name,onChange:onChange,value:formData?formData[field.name]:""},field.name):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_common_SelectField__WEBPACK_IMPORTED_MODULE_13__.a,{label:field.label,option:eval(field.list).map((function(e){return{value:e.value,text:e.name}})),showSearch:!0,optionFilterProp:"children",value:formData?formData[field.name]:"",showArrow:!1,onChange:function(e){return onSelectChange(field.name,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},field.name)}))}),"special"===(null===formData||void 0===formData?void 0:formData.type)?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_MillBulkForm__WEBPACK_IMPORTED_MODULE_16__.a,{customerId:null===data||void 0===data?void 0:data.id,type:formData.type,setRatesToData:setRatesToData}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_7__.a,{span:24,className:"text-right",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(){return reset()},className:"mr-4",icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_14__.a,{}),children:"Reset"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{type:"primary",onClick:function(){return onSubmit()},icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_15__.a,{}),children:data?"Edit":"Add"})]})})]})})};__webpack_exports__.a=CustomerForm},166:function(e,t,a){},200:function(e,t,a){"use strict";var n=a(24),r=a(3),c=a(1),i=a(5),_=a(11),o=a.n(_),l=a(0),s=a(330),u=a(120),d=a(61),b=a(27),j=(a(36),a(4)),m=s.a.Title;t.a=function(e){var t=e.customerId,a=e.type,_=e.setRatesToData,s=Object(l.useState)({}),O=Object(i.a)(s,2),f=O[0],p=O[1],h=function(){var e=Object(n.a)(o.a.mark((function e(){var a,n,i,l,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.k)(t);case 2:if(n=e.sent,i=null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity.rows,l=i.reduce((function(e,a){return Object(c.a)(Object(c.a)({},e),{},Object(r.a)({},t?a.categoryId:a.id,{name:a.name,rate:a.rate,categoryId:t?a.categoryId:a.id,id:a.id}))}),{}),!t){e.next=11;break}return e.next=8,Object(b.k)(null);case 8:u=e.sent,(null===u||void 0===u||null===(s=u.data)||void 0===s?void 0:s.entity.rows).forEach((function(e){l[e.id]||(l[e.id]={name:e.name,rate:e.rate,categoryId:e.id,id:e.id})}));case 11:p(l),_(l);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){"special"===a&&h()}),[t]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{level:4,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Rates"}),Object(j.jsx)(u.a,{style:{overflowY:"auto"},className:"border-b-2 mb-2",children:Object.values(f).map((function(e){return Object(j.jsx)(d.a,{label:e.name,type:"number",name:e.name,onChange:function(t){return function(e,t){var a=Object(c.a)(Object(c.a)({},f),{},Object(r.a)({},t.id,{name:t.name,rate:e.target.value,categoryId:t.categoryId,id:t.id}));p(a),_(a)}(t,e)},value:e.rate,lcol:2,icol:2},e.id)}))})]})})}},201:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(120),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(103),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(40),_common_InputField__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(61),_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(27),sweetalert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(36),sweetalert__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(sweetalert__WEBPACK_IMPORTED_MODULE_11__),_ant_design_icons__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(208),_ant_design_icons__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(209),_data_MilkData__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(116),_common_SelectField__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(97),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__),MilkFom=function MilkFom(_ref){var data=_ref.data,callback=_ref.callback,setEditData=_ref.setEditData,initialData=_data_MilkData__WEBPACK_IMPORTED_MODULE_14__.a.reduce((function(e,t){return Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},e),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},t.name,t.defaultValue?t.defaultValue:""))}),{}),_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(initialData),_useState2=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),formData=_useState2[0],setFormData=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!0),_useState4=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),rateDisbaled=_useState4[0],setRateDiabled=_useState4[1],onChange=function(e){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e.target.name,e.target.value)))},onSelectChange=function(e,t){"taxable"==e&&setRateDiabled("Yes"!=t),setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e,t)))};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){setFormData(data)}),[data]);var onSubmit=function(){var e=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.a)(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t){var a,n,r,c;return _home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(formData),!data){e.next=9;break}return e.next=4,Object(_api__WEBPACK_IMPORTED_MODULE_10__.s)(data.id,formData);case 4:n=e.sent,console.log(n),1==(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully updated milk details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error"),e.next=14;break;case 9:return e.next=11,Object(_api__WEBPACK_IMPORTED_MODULE_10__.c)(formData);case 11:c=e.sent,console.log(c),1==(null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully added milk details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error");case 14:return reset(),e.next=17,callback();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),reset=function(){setFormData(initialData),setEditData(null)},taxable=[{value:"Yes",name:"Yes"},{value:"No",name:"No"}],gstRate=[{value:0,name:"0 %"},{value:1,name:"1 %"},{value:1.5,name:"1.5 %"},{value:3,name:"3 %"},{value:5,name:"5 %"},{value:7.5,name:"7.5 %"},{value:12,name:"12 %"},{value:18,name:"18 %"}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{id:"form-div",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:_data_MilkData__WEBPACK_IMPORTED_MODULE_14__.a.map((function(field){return"input"==field.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_common_InputField__WEBPACK_IMPORTED_MODULE_9__.a,{label:field.label,type:field.inputType,name:field.name,onChange:onChange,value:formData?formData[field.name]:""},field.name):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_common_SelectField__WEBPACK_IMPORTED_MODULE_15__.a,{label:field.label,option:eval(field.list).map((function(e){return{value:e.value,text:e.name}})),showSearch:!0,optionFilterProp:"children",value:formData?formData[field.name]:field.defaultValue,showArrow:!1,onChange:function(e){return onSelectChange(field.name,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},disabled:"gstRate"==field.name&&rateDisbaled},field.name)}))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_7__.a,{span:24,className:"text-right",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(){return reset()},className:"mr-4",icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_12__.a,{}),children:"Reset"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{type:"primary",onClick:function(){return onSubmit()},icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_13__.a,{}),children:data?"Edit":"Add"})]})})]})})};__webpack_exports__.a=MilkFom},216:function(e,t,a){},27:function(e,t,a){"use strict";a.d(t,"i",(function(){return o})),a.d(t,"l",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"r",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"k",(function(){return b})),a.d(t,"c",(function(){return j})),a.d(t,"s",(function(){return m})),a.d(t,"h",(function(){return O})),a.d(t,"b",(function(){return f})),a.d(t,"j",(function(){return p})),a.d(t,"o",(function(){return h})),a.d(t,"n",(function(){return x})),a.d(t,"g",(function(){return v})),a.d(t,"m",(function(){return E})),a.d(t,"d",(function(){return D})),a.d(t,"e",(function(){return y})),a.d(t,"p",(function(){return M})),a.d(t,"q",(function(){return k}));var n=a(192),r=a.n(n),c="http://".concat(window.location.hostname,":8000"),i=r.a.create({baseURL:c}),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="".concat(e);t&&Object.keys(t).forEach((function(e){return n=n.replace(":".concat(e),t[e])}));var r={};if(a){Object.keys(a).forEach((function(e){void 0!==a[e]&&null!==a[e]&&(r[e]=a[e])}));var c=new URLSearchParams(r);n+="?".concat(c.toString())}return n},o=function(e,t,a){return i.get(_("/customers",{},{search:e,offset:t,limit:a}))},l=function(e,t,a){return i.get(_("/customers/dues",{},{search:e,offset:t,limit:a}))},s=function(e){return i.post("/customers",e)},u=function(e,t){return i.put("/customers/".concat(e),t)},d=function(e){return i.delete("/customers/".concat(e))},b=function(e,t,a,n){return i.get(_("/milk-category",{},{customerId:e,search:t,offset:a,limit:n}))},j=function(e){return i.post("/milk-category",e)},m=function(e,t){return i.put("/milk-category/".concat(e),t)},O=function(e){return i.delete("/milk-category/".concat(e))},f=function(e){return i.post("/invoices",e)},p=function(e,t,a){return i.get(_("/invoices",{},{search:e,offset:t,limit:a}))},h=function(e){return i.get("/invoices?date=".concat(e))},x=function(e){return i.get("/invoices/".concat(e))},v=function(e){return i.delete("/invoices/".concat(e))},E=function(e){return i.get("/customers/".concat(e,"/unpaid-invoices"))},D=function(e,t){return i.post("/customers/".concat(e,"/payments"),t)},y=function(e){return i.post("/stocks",{stocks:e})},M=function(){return i.get("/stocks")},k=function(e){return i.get("/stocks-by-date?date=".concat(e))}},329:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(41),i=a.n(c),_=a(63),o=(a(166),a(5)),l=a(37),s=(a(167),a(216),a(332)),u=a(71),d=a(337),b=a(338),j=a(3),m=a(1),O=a(7),f=a(24),p=a(11),h=a.n(p),x=a(65),v=a.n(x),E=a(330),D=a(40),y=a(120),M=a(103),k=a(335),P=a(202),g=a(333),w=a(27),C=a(58),T=a.n(C),I=a(336),A=a(61),S=a(36),R=a.n(S),L=[{label:"Invoice No.",name:"invoiceNo",type:"input",inputType:"text"},{label:"Date",name:"invoiceDate",type:"input",inputType:"text"},{label:"Customer",name:"customerName",type:"input",inputType:"text"},{label:"Total Amount",name:"total",type:"select",inputType:"text",list:"customerType"},{label:"Status",name:"paymentStatus",type:"input",inputType:"text"},{label:"Amount Paid",name:"amountPaid",type:"input",inputType:"text"},{label:"Date Of Payment",name:"paymentDate",type:"input",inputType:"text"}];function W(e){R()({text:e,icon:"error",buttons:{cancel:{text:"Cancel",value:null,visible:!1,className:"btn-sm btn-default",closeModal:!0},confirm:{text:"OK",value:!0,visible:!0,className:"btn-sm btn-primary",closeModal:!0}}})}function K(e){R()({text:e,icon:"info",buttons:{cancel:{text:"Cancel",value:null,visible:!1,className:"btn-sm btn-default",closeModal:!0},confirm:{text:"OK",value:!0,visible:!0,className:"btn-sm btn-info",closeModal:!0}}})}function B(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var U=a(4),N=E.a.Title,q=function(e){var t=e.visible,a=e.setVisible,r=e.customer,c=e.callback,i={amountReceived:0,additionalDue:0},_=Object(n.useState)(i),l=Object(o.a)(_,2),s=l[0],u=l[1],d=Object(n.useState)([]),b=Object(o.a)(d,2),O=b[0],p=b[1],x=function(e){u(Object(m.a)(Object(m.a)({},s),{},Object(j.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.m)(null===t||void 0===t?void 0:t.id);case 2:n=e.sent,console.log(n),p(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{invoiceDate:e.invoiceDate?T()(e.invoiceDate).format("DD-MM-YYYY"):null,paymentDate:e.paymentDate?T()(e.paymentDate).format("DD-MM-YYYY"):null})})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){r&&t&&v(r)}),[r,t]);var k=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,_;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(s),e.next=3,Object(w.d)(r.id,s);case 3:return _=e.sent,console.log(_),1==(null===_||void 0===_||null===(n=_.data)||void 0===n?void 0:n.status)?R()("Succesfully Payment done","success"):R()("OOPS Something Went wrong","error"),t&&a(!1),e.next=9,c();case 9:u(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e,t,n;e="Are you sure you want to close without adding amount received ?",t=function(){a(!1)},n=function(){},R()({text:e,icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:"btn-sm btn-default",closeModal:!0},confirm:{text:"OK",value:!0,visible:!0,className:"btn-sm btn-danger",closeModal:!0}}}).then((function(e){e?t():n()}))},C=L.map((function(e){return{title:Object(U.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}})).filter((function(e){return"customerName"!==e.dataIndex}));O.reduce((function(e,t){return t.total+e}),0);return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(I.a,{title:"Payment",visible:t,width:"50%",style:{top:75},keyboard:!1,onCancel:function(){return P()},footer:[Object(U.jsx)(D.a,{onClick:function(){return P()},children:"Cancel"},"cancel"),Object(U.jsx)(D.a,{type:"primary",onClick:function(){return k(!0)},children:"Save"},"savclose")],children:Object(U.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(U.jsxs)(N,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:[null===r||void 0===r?void 0:r.name,"'s Due Invoices"]}),Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(g.a,{dataSource:O,columns:C,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(U.jsxs)(y.a,{className:"w-full",children:[(null===r||void 0===r?void 0:r.previousDue)>0?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(N,{level:4,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},children:"Previous Due : ".concat(null!==r&&void 0!==r&&r.previousDue?Math.round(null===r||void 0===r?void 0:r.previousDue):0)})}),Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(N,{level:4,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},children:"Due : ".concat((null===r||void 0===r?void 0:r.due)>=0?Math.round((null===r||void 0===r?void 0:r.due)-(null===r||void 0===r?void 0:r.previousDue)):0)})})]}):null,Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(N,{level:4,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},children:(null===r||void 0===r?void 0:r.due)>=0?"Total Due : ".concat(null===r||void 0===r?void 0:r.due):"Total Advance : ".concat(-(null===r||void 0===r?void 0:r.due))})}),Object(U.jsx)(A.a,{label:"Amount Received",type:"number",name:"amountReceived",onChange:x,value:s.amountReceived,lcol:8,icol:16},"amountReceived"),Object(U.jsx)(A.a,{label:"Previous Due",type:"number",name:"additionalDue",onChange:x,value:s.additionalDue,lcol:8,icol:16},"additionalDue")]})]})})})},F=a(207),Y=E.a.Title,z=function(){var e=Object(n.useState)(T()().format("YYYY-MM-DD")),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(o.a)(c,2),_=i[0],l=i[1],s=Object(n.useState)([]),u=Object(o.a)(s,2),d=u[0],b=u[1],p=Object(n.useState)([]),x=Object(o.a)(p,2),C=x[0],I=x[1],A=Object(n.useState)(!1),S=Object(o.a)(A,2),R=S[0],L=S[1],W=Object(n.useState)(null),K=Object(o.a)(W,2),N=K[0],z=K[1],Q=Object(n.useState)([]),V=Object(o.a)(Q,2),G=V[0],H=V[1],J=Object(n.useState)(1),X=Object(o.a)(J,2),Z=X[0],$=X[1],ee=Object(n.useState)(20),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(0),ce=Object(o.a)(re,2),ie=ce[0],_e=ce[1],oe=Object(n.useState)(""),le=Object(o.a)(oe,2),se=le[0],ue=le[1],de=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.o)(t);case 2:n=e.sent,console.log(n),l(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.k)();case 2:a=e.sent,b(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity.rows);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.l)(se,(Z-1)*ae,ae);case 2:r=e.sent,console.log(r),I(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.entity.rows),_e(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.entity.count);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.q)(t);case 2:n=e.sent,console.log(n),H(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:return e.next=4,de(a);case 4:return e.next=6,me(a);case 6:case"end":return e.stop()}}),e)}))),[a]),Object(n.useEffect)((function(){je()}),[Z,ae,se]);for(var Oe=d.length>0?[{title:Object(U.jsx)(E.a.Text,{ellipsis:!0,title:"Customers",children:"Customers"}),dataIndex:"customer",key:"customer",width:"150px",fixed:"left"}].concat(Object(O.a)(d.map((function(e){return{title:Object(U.jsx)(E.a.Text,{ellipsis:!0,title:e.name,children:e.name}),dataIndex:e.id,key:e.id,width:"150px"}})))):[],fe=G.reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t.categoryId,t.carryForward+t.morningQuantity+t.eveningQuantity))}),{}),pe={},he=0;he<d.length;he++)pe[d[he].id]=0;for(var xe=_.map((function(e){for(var t={customer:e.name},a=0;a<d.length;a++)t[d[a].id]=0;for(var n=e.invoices,r=0;r<n.length;r++)for(var c=n[r].milkCategory,i=0;i<c.length;i++){var _=c[i].categoryId||c[i].id;void 0==t[_]&&(t[_]=0),t[_]+=c[i].Transaction.quantity,pe[_]+=c[i].Transaction.quantity}return t})),ve=[Object(m.a)({id:B(),customer:"Total Stock"},fe),Object(m.a)({id:B(),customer:"Total Sold"},pe),Object(m.a)({id:B(),customer:"Total Remaining"},Object.keys(fe).reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t,fe[t]-pe[t]))}),{}))],Ee=[{title:Object(U.jsx)(E.a.Text,{ellipsis:!0,title:"Customers",children:"Customers"}),dataIndex:"name",key:"customer",width:"40%"},{title:Object(U.jsx)(E.a.Text,{ellipsis:!0,title:"Dues",children:"Due / Advance"}),key:"dues",width:"40%",render:function(e){return 0==e.due||null==e.due?Object(U.jsxs)("div",{children:[" ",e.due," "]},"due"+e.id):e.due>0?Object(U.jsxs)("div",{className:"text-red-800",children:[e.due," (Due)"]},"due"+e.id):Object(U.jsxs)("div",{className:"text-green-800",children:[-e.due," (Advance)"]},"due"+e.id)}},{title:"Payments",key:"operation",width:"10%",render:function(e){return Object(U.jsx)("div",{className:"float-right",children:Object(U.jsxs)(D.a,{type:"primary",onClick:function(){return De(e)},title:"Edit",children:[Object(U.jsx)(F.a,{})," Pay"]},"edit"+e.id)})}}],De=function(e){z(e),L(!0)},ye=[10,20,50,100],Me=[];ye.length>0&&ye[0]<ie;)Me.push(ye[0]+""),ye.shift();return ie>10&&Me.push(ie+""),Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto",overflowX:"hidden"},children:[Object(U.jsx)(Y,{level:2,className:"heading",id:"mainheader",children:"Today's Report"}),Object(U.jsxs)(y.a,{gutter:[32,32],children:[Object(U.jsx)(M.a,{span:4,children:Object(U.jsx)(k.a,{title:"Total Collection",value:v()(0)})}),Object(U.jsx)(M.a,{span:4,children:Object(U.jsx)(k.a,{title:"Total Stocks",value:v()(0)})}),Object(U.jsx)(M.a,{span:4,children:Object(U.jsx)(k.a,{title:"Total Stocks Left",value:v()(0)})}),Object(U.jsx)(M.a,{span:4,children:Object(U.jsx)(k.a,{title:"Total Invoices Generated",value:v()(0)})}),Object(U.jsx)(M.a,{span:4,children:Object(U.jsx)(k.a,{title:"Total New Customers Added",value:v()(0)})})]}),Object(U.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(U.jsxs)("div",{style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"flex border-b-2",children:[Object(U.jsx)(Y,{level:3,children:"Sales Report "}),Object(U.jsx)("div",{className:"",children:Object(U.jsx)(y.a,{children:Object(U.jsx)(P.a,{type:"date",name:"reportDate",onChange:function(e){r(e.target.value)},value:a,className:"ml-2"},"invoiceDate")})})]}),Object(U.jsx)(y.a,{className:"w-full overflow-y-auto ",children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(g.a,{dataSource:xe,columns:Oe,bordered:!0,scroll:{x:1600,y:384},pagination:!1,rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(U.jsx)(y.a,{className:"w-full overflow-y-auto ",children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(g.a,{dataSource:ve,columns:Oe,bordered:!0,scroll:{x:1600},pagination:!1,rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())},showHeader:!1})})})]}),Object(U.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(U.jsx)("div",{style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:Object(U.jsx)(Y,{level:3,children:"All Customers"})}),Object(U.jsx)("div",{className:"mb-2",children:Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:12,children:Object(U.jsx)(P.a,{placeholder:"Search...",value:se,onChange:function(e){return ue(e.target.value)}})})})}),Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(g.a,{dataSource:C,columns:Ee,bordered:!0,pagination:{position:["bottomRight","topRight"],pageSizeOptions:Me,current:Z,pageSize:ae,onChange:function(e){$(e)},onShowSizeChange:function(e,t){ne(t),$(1)},total:ie,showSizeChanger:!0},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(U.jsx)(q,{visible:R,setVisible:L,customer:N,callback:je})]})]})})},Q=a(339),V=a(340),G=a(341),H=a(342),J=a(343),X=a(344),Z=(a.p,function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(void 0),i=Object(o.a)(c,2),l=i[0],s=i[1];return Object(n.useEffect)((function(){var e=function(){return s(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){r(!(l<=800))}),[l]),Object(U.jsxs)("div",{className:"nav-container  h-screen",children:[Object(U.jsxs)("div",{className:"logo-container",children:[Object(U.jsx)(E.a.Title,{level:2,className:"logo",children:Object(U.jsx)(_.b,{to:"/",children:"AMMS"})}),Object(U.jsx)(D.a,{className:"menu-control-container",onClick:function(){return r(!a)},children:Object(U.jsx)(Q.a,{})})]}),a&&Object(U.jsxs)(u.a,{theme:"dark",children:[Object(U.jsx)(u.a.Item,{icon:Object(U.jsx)(V.a,{}),children:Object(U.jsx)(_.b,{to:"/",children:"Home"})}),Object(U.jsx)(u.a.Item,{icon:Object(U.jsx)(G.a,{}),children:Object(U.jsx)(_.b,{to:"/customers",children:"Customers"})}),Object(U.jsx)(u.a.Item,{icon:Object(U.jsx)(H.a,{}),children:Object(U.jsx)(_.b,{to:"/invoices",children:"Invoices"})}),Object(U.jsx)(u.a.Item,{icon:Object(U.jsx)(J.a,{}),children:Object(U.jsx)(_.b,{to:"/milk-category",children:"Milk Rates"})}),Object(U.jsx)(u.a.Item,{icon:Object(U.jsx)(X.a,{}),children:Object(U.jsx)(_.b,{to:"/stocks",children:"Stocks"})})]})]})}),$=a(161),ee=a(115),te=a(345),ae=E.a.Title,ne=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),i=Object(o.a)(c,2),_=i[0],l=i[1],s=Object(n.useState)(1),u=Object(o.a)(s,2),d=u[0],b=u[1],j=Object(n.useState)(20),O=Object(o.a)(j,2),p=O[0],x=O[1],v=Object(n.useState)(0),k=Object(o.a)(v,2),C=k[0],T=k[1],I=Object(n.useState)(""),A=Object(o.a)(I,2),S=A[0],R=A[1],L=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.i)(S,(d-1)*p,p);case 2:n=e.sent,r(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.entity.rows),T(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity.count);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){L()}),[d,p,S]);var B=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ?")){e.next=7;break}return e.next=4,Object(w.f)(t.id);case 4:null!==(n=e.sent)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.status?K("Succesfully Deleted"):W("OOPS!! Something went wrong"),L();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=ee.a.map((function(e){return{title:Object(U.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}}));N.push({title:"Action",key:"operation",width:10,render:function(e){return Object(U.jsxs)("div",{className:"float-right",children:[Object(U.jsx)(D.a,{type:"primary",onClick:function(){return function(e){l(Object(m.a)({},e)),setTimeout((function(){return document.getElementById("form-div").scrollIntoView()}),2)}(e)},title:"Edit",children:Object(U.jsx)(F.a,{})},"edit"+e.id),Object(U.jsx)(D.a,{type:"secondary",onClick:function(){return B(e)},className:"ml-2",title:"Delete",children:Object(U.jsx)(te.a,{})},"delete"+e.id)]})}});for(var q=[10,20,50,100],Y=[];q.length>0&&q[0]<C;)Y.push(q[0]+""),q.shift();return C>10&&Y.push(C+""),Object(U.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto"},children:[Object(U.jsxs)("div",{className:"site-layout-background p-5",children:[Object(U.jsxs)(ae,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:[_?"Edit":"Add"," Customer ",_?"(".concat(_.name,")"):""]}),Object(U.jsx)($.a,{data:_,callback:L,setEditData:l})]}),Object(U.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(U.jsx)(ae,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Customers"}),Object(U.jsx)("div",{className:"mb-2",children:Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:12,children:Object(U.jsx)(P.a,{placeholder:"Search...",value:S,onChange:function(e){return R(e.target.value)}})})})}),Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(g.a,{dataSource:a,columns:N,bordered:!0,pagination:{position:["bottomRight","topRight"],pageSizeOptions:Y,current:d,pageSize:p,onChange:function(e){b(e)},onShowSizeChange:function(e,t){x(t),b(1)},total:C,showSizeChanger:!0},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})]})},re=a(116),ce=a(201),ie=E.a.Title,_e=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),i=Object(o.a)(c,2),_=i[0],l=i[1],s=Object(n.useState)(1),u=Object(o.a)(s,2),d=u[0],b=u[1],j=Object(n.useState)(20),O=Object(o.a)(j,2),p=O[0],x=O[1],v=Object(n.useState)(0),k=Object(o.a)(v,2),C=k[0],T=k[1],I=Object(n.useState)(""),A=Object(o.a)(I,2),S=A[0],R=A[1],L=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.k)(null,S,(d-1)*p,p);case 2:n=e.sent,r(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.entity.rows),T(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity.count);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){L()}),[d,p,S]);var B=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ?")){e.next=7;break}return e.next=4,Object(w.h)(t.id);case 4:null!==(n=e.sent)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.status?K("Succesfully Deleted"):W("OOPS!! Something went wrong"),L();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=re.a.map((function(e){return{title:Object(U.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}}));N.push({title:"Action",key:"operation",width:10,render:function(e){return Object(U.jsxs)("div",{className:"float-right",children:[Object(U.jsx)(D.a,{type:"primary",onClick:function(){return function(e){l(Object(m.a)({},e)),setTimeout((function(){return document.getElementById("form-div").scrollIntoView()}),2)}(e)},title:"Edit",children:Object(U.jsx)(F.a,{})},"edit"+e.id),Object(U.jsx)(D.a,{type:"secondary",onClick:function(){return B(e)},className:"ml-2",title:"Delete",children:Object(U.jsx)(te.a,{})},"delete"+e.id)]})}});for(var q=[10,20,50,100],Y=[];q.length>0&&q[0]<C;)Y.push(q[0]+""),q.shift();return C>10&&Y.push(C+""),Object(U.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto"},children:[Object(U.jsxs)("div",{className:"site-layout-background p-5",children:[Object(U.jsxs)(ie,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:[_?"Edit":"Add"," Milk Category ",_?"(".concat(_.name,")"):""]}),Object(U.jsx)(ce.a,{data:_,callback:L,setEditData:l})]}),Object(U.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(U.jsx)(ie,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Milk Categories"}),Object(U.jsx)("div",{className:"mb-2",children:Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:12,children:Object(U.jsx)(P.a,{placeholder:"Search...",value:S,onChange:function(e){return R(e.target.value)}})})})}),Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(g.a,{dataSource:a,columns:N,bordered:!0,pagination:{position:["bottomRight","topRight"],pageSizeOptions:Y,current:d,pageSize:p,onChange:function(e){b(e)},onShowSizeChange:function(e,t){x(t),b(1)},total:C,showSizeChanger:!0},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})]})},oe=a(347),le=a(348),se=a(349),ue=a(97),de=a(208),be=a(209),je=a(10),me=a(334),Oe=a(87),fe=a(331),pe=["index"],he=["title","editable","children","dataIndex","record","handleSave","customerData","milk"],xe=r.a.createContext(null),ve=function(e){e.index;var t=Object(je.a)(e,pe),a=me.a.useForm(),n=Object(o.a)(a,1)[0];return Object(U.jsx)(me.a,{form:n,component:!1,children:Object(U.jsx)(xe.Provider,{value:n,children:Object(U.jsx)("tr",Object(m.a)({},t))})})},Ee=function(e){var t=e.title,a=e.editable,r=e.children,c=e.dataIndex,i=e.record,_=e.handleSave,l=e.customerData,s=e.milk,u=Object(je.a)(e,he),d=Object(n.useState)(!1),b=Object(o.a)(d,2),j=b[0],O=(b[1],Object(n.useRef)(null));Object(n.useContext)(xe);Object(n.useEffect)((function(){j&&O.current.focus()}),[j]);var f=function(e,t){var a={};if("categoryName"===c){var n="special"==l.type?s[t].normal.gstRate:s[t].gstRate;a={categoryName:s[t].name,categoryId:t,rate:s[t].rate,gstRate:n},void 0!=i.quantity&&(a.total=Math.round(parseFloat(a.rate)*parseFloat(i.quantity)*10)/10,a.totalWithTax=Math.round(10*(a.total+a.total*a.gstRate/100))/10)}"quantity"==c&&void 0!=i.rate&&((a={quantity:t}).total=Math.round(parseFloat(i.rate)*parseFloat(t)*10)/10,a.totalWithTax=Math.round(10*(a.total+a.total*i.gstRate/100))/10),_(Object(m.a)(Object(m.a)({},i),a))},p=r;return a&&(p="Total Amount"!=i.categoryName?Object(U.jsx)(me.a.Item,{style:{margin:0},name:c,rules:[{required:!0,message:"".concat(t," is required.")}],children:"categoryName"!==c?Object(U.jsx)(P.a,{onChange:function(e){return f(0,e.target.value)}}):Object(U.jsx)(Oe.a,{label:"Customer",editable:!0,showSearch:!0,optionFilterProp:"children",showArrow:!1,onChange:function(e){return f(0,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:Object.values(s).map((function(e,t){return Object(U.jsx)(Option,{value:e.id,children:e.name},t)}))},"customerId")}):Object(U.jsx)("div",{className:"editable-cell-value-wrap font-bold",style:{paddingRight:24,fontSize:"16px"},children:r})),Object(U.jsx)("td",Object(m.a)(Object(m.a)({},u),{},{children:p}))},De=function(e){var t=e.setTransactions,a=e.customerData,r=e.transactions,c=e.milk,i=e.notEditable,_=Object(n.useState)([]),l=Object(o.a)(_,2),s=l[0],u=l[1],d=Object(n.useState)(0),b=Object(o.a)(d,2),j=b[0],f=b[1];Object(n.useEffect)((function(){u(r)}),[r]);var p=[{title:"Item Name",dataIndex:"categoryName",width:"35%",editable:!i},{title:"Rate",dataIndex:"rate",width:"10%"},{title:"Quantity",dataIndex:"quantity",width:"10%",editable:!i},{title:"Total",dataIndex:"total",width:"10%"},{title:"GST Rate (%)",dataIndex:"gstRate",width:"10%"},{title:"Total( inc. tax)",dataIndex:"totalWithTax",width:"10%"}];i||p.push({title:"Action",dataIndex:"operation",width:"5%",render:function(e,t){return"Total Amount"!==t.categoryName&&s.length>=1?Object(U.jsx)(fe.a,{title:"Sure to delete?",onConfirm:function(){return function(e){var t=s.filter((function(t){return t.key!==e}));u(t)}(t.key)},children:Object(U.jsx)("a",{children:"Delete"})}):null}});var h=function(e){var a=Object(O.a)(s),n=a.findIndex((function(t){return e.key===t.key})),r=a[n];a.splice(n,1,Object(m.a)(Object(m.a)({},r),e)),u(a),t(a)},x={body:{row:ve,cell:Ee}},v=p.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{onCell:function(t,n){var r={};return"Total Amount"==t.categoryName&&"categoryName"==e.dataIndex&&(r={colSpan:5}),"Total Amount"!=t.categoryName||"quantity"!=e.dataIndex&&"rate"!=e.dataIndex&&"gstRate"!=e.dataIndex&&"total"!=e.dataIndex||(r={colSpan:0}),e.editable?Object(m.a)({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:h,customerData:a,milk:c},r):r}})})),E={key:j+2,categoryName:"Total Amount",totalWithTax:Math.round(s.reduce((function(e,t){return e+t.totalWithTax}),0))};return Object(U.jsxs)("div",{children:[i?null:Object(U.jsx)(D.a,{onClick:function(){var e={key:j,categoryName:"Select Item",rate:"0",quantity:"0",total:0,gstRate:0,totalWithTax:0};u([].concat(Object(O.a)(s),[e])),f(j+1)},type:"primary",style:{marginBottom:16},children:"Add a item"}),Object(U.jsx)(g.a,{components:x,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:[].concat(Object(O.a)(s),[E]),columns:v,pagination:!1})]})},ye=function(e){e.data;var t=e.customers,a=e.callback,r=(e.setEditData,{invoiceNo:"",customerId:"",total:"",transactions:[],invoiceDate:T()().format("YYYY-MM-DD")}),c=Object(n.useState)(r),i=Object(o.a)(c,2),_=i[0],l=i[1],s=t?t.reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t.id,t))}),{}):{},u=Object(n.useState)({}),d=Object(o.a)(u,2),b=d[0],p=d[1],x=Object(n.useState)([]),v=Object(o.a)(x,2),E=v[0],k=v[1],P=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_&&_.customerId&&s[_.customerId],e.next=3,Object(w.k)(n&&"special"==n.type?n.id:void 0);case 3:r=e.sent,c=null===r||void 0===r||null===(t=r.data)||void 0===t||null===(a=t.entity)||void 0===a?void 0:a.rows.reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t.id,t))}),{}),p(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:case"end":return e.stop()}}),e)}))),[_]);var g=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(_),_.transactions&&0!=(null===(n=_.transactions)||void 0===n?void 0:n.length)){e.next=4;break}return W("Please insert atleast one item"),e.abrupt("return");case 4:if(""!=_.customerId){e.next=7;break}return W("Please select customer"),e.abrupt("return");case 7:if(_.transactions=_.transactions.filter((function(e){return e.categoryId})),0!=_.transactions.length){e.next=11;break}return W("No Items selected"),e.abrupt("return");case 11:return _.total=Math.round(_.transactions.reduce((function(e,t){return e+t.totalWithTax}),0)),_.existingUser=!!s[_.customerId],e.next=15,Object(w.b)(_);case 15:if(c=e.sent,console.log(c),1!=(null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.status)){e.next=24;break}return R()("Succesfully generated invoice details","success"),C(),e.next=22,a(_.customerId,c.data.entity.customer);case 22:e.next=25;break;case 24:R()("OOPS Something Went wrong","error");case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){l(r)};return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{id:"form-div",children:[Object(U.jsxs)(y.a,{children:[Object(U.jsx)(ue.a,{label:"Customer",option:t?[].concat(Object(O.a)(t.map((function(e){return{value:e.id,text:e.name}}))),Object(O.a)(E)):Object(O.a)(E),showSearch:!0,optionFilterProp:"children",value:_?_.customerId:"",showArrow:!1,onSearch:function(e){return function(e){e&&k([{value:e,text:e}])}(e)},onChange:function(e){return function(e,t){console.log("cust",t),l(Object(m.a)(Object(m.a)({},_),{},Object(j.a)({},e,t)))}("customerId",e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},"customerId"),Object(U.jsx)(A.a,{label:"Dated",type:"date",name:"invoiceDate",onChange:function(e){l(Object(m.a)(Object(m.a)({},_),{},Object(j.a)({},e.target.name,e.target.value)))},value:_?_.invoiceDate:""},"invoiceDate")]}),Object(U.jsx)(y.a,{children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(De,{setTransactions:function(e){l(Object(m.a)(Object(m.a)({},_),{},{transactions:e}))},customerData:_&&_.customerId&&(s[_.customerId]||{type:"normal"}),transactions:_&&_.transactions,milk:b})})}),Object(U.jsx)(y.a,{children:Object(U.jsxs)(M.a,{span:24,className:"text-right",children:[Object(U.jsx)(D.a,{onClick:function(){return C()},className:"mr-4",icon:Object(U.jsx)(de.a,{}),children:"Reset"}),Object(U.jsx)(D.a,{type:"primary",onClick:function(){return g()},icon:Object(U.jsx)(be.a,{}),children:"Generate Invoice"})]})})]})})},Me=E.a.Title,ke=function(e){var t,a=e.visible,r=e.setVisible,c=e.invoiceId,i=Object(n.useState)({transactions:[]}),_=Object(o.a)(i,2),l=_[0],s=_[1],u=Object(n.useState)({}),d=Object(o.a)(u,2),b=(d[0],d[1],function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.n)(t);case 2:r=e.sent,console.log(r),c=null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.entity.milkCategory.map((function(e){var t=e.Transaction.rate*e.Transaction.quantity;return{categoryName:e.name,rate:e.Transaction.rate,quantity:e.Transaction.quantity,total:e.Transaction.rate*e.Transaction.quantity,gstRate:e.gstRate,totalWithTax:Math.round(10*(t+t*e.gstRate/100))/10}})),s(Object(m.a)(Object(m.a)({},null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.entity),{},{transactions:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(n.useEffect)(Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("calling",c),!c){e.next=4;break}return e.next=4,b(c);case 4:case"end":return e.stop()}}),e)}))),[c]),Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(I.a,{title:"Invoice Details",visible:a,width:"50%",style:{top:75},keyboard:!1,onCancel:function(){return r(!1)},footer:[],children:Object(U.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(U.jsxs)(y.a,{children:[Object(U.jsx)(M.a,{span:12,children:Object(U.jsxs)(Me,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:["Customer Name : ",null===l||void 0===l||null===(t=l.customer)||void 0===t?void 0:t.name]})}),Object(U.jsx)(M.a,{span:12,children:Object(U.jsxs)(Me,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:["Dated : ",T()(null===l||void 0===l?void 0:l.invoiceDate).format("DD-MM-YYYY")]})})]}),Object(U.jsx)(y.a,{children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(De,{customerData:l&&l.customerId&&(null===l||void 0===l?void 0:l.customer),transactions:l&&(null===l||void 0===l?void 0:l.transactions),milk:{},notEditable:!0})})})]})})})},Pe=E.a.Title,ge=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),i=Object(o.a)(c,2),_=i[0],l=i[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),d=u[0],b=u[1],j=Object(n.useState)(null),O=Object(o.a)(j,2),p=O[0],x=O[1],v=Object(n.useState)(!1),k=Object(o.a)(v,2),C=k[0],I=k[1],A=Object(n.useState)(null),S=Object(o.a)(A,2),R=S[0],B=S[1],N=Object(n.useState)(1),F=Object(o.a)(N,2),Y=F[0],z=F[1],Q=Object(n.useState)(20),V=Object(o.a)(Q,2),G=V[0],H=V[1],J=Object(n.useState)(0),X=Object(o.a)(J,2),Z=X[0],$=X[1],ee=Object(n.useState)(""),ae=Object(o.a)(ee,2),ne=ae[0],re=ae[1],ce=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.i)();case 2:a=e.sent,r(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity.rows);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.j)(ne,(Y-1)*G,G);case 2:n=e.sent,l(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.entity.rows.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{customerName:e.customer.name,invoiceDate:e.invoiceDate?T()(e.invoiceDate).format("DD-MM-YYYY"):null,paymentDate:e.paymentDate?T()(e.paymentDate).format("DD-MM-YYYY"):null})}))),$(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity.count);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){ce()}),[]),Object(n.useEffect)((function(){ie()}),[Y,G,ne]);var _e=function(e){return"invoiceNo"==e.name?{render:function(e,t){return console.log("data",t),Object(U.jsx)("div",{children:Object(U.jsx)("a",{onClick:function(){return e=t.id,B(e),void I(!0);var e},className:"underline text-blue-900",children:e})})}}:{}},oe=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ?")){e.next=7;break}return e.next=4,Object(w.g)(t.id);case 4:null!==(n=e.sent)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.status?K("Succesfully Deleted"):W("OOPS!! Something went wrong"),ie();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=L.map((function(e){return Object(m.a)({title:Object(U.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"},_e(e))}));le.push({title:"Action",key:"operation",width:10,render:function(e){return Object(U.jsx)("div",{className:"float-right",children:Object(U.jsx)(D.a,{type:"secondary",onClick:function(){return oe(e)},className:"ml-2",title:"Delete",children:Object(U.jsx)(te.a,{})},"delete"+e.id)})}});for(var se=[10,20,50,100],ue=[];se.length>0&&se[0]<Z;)ue.push(se[0]+""),se.shift();return Z>10&&ue.push(Z+""),Object(U.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto"},children:[Object(U.jsxs)("div",{className:"site-layout-background p-5",children:[Object(U.jsx)(Pe,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Generate Invoice "}),Object(U.jsx)(ye,{customers:a,callback:function(){var e=Object(f.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:x(a),b(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})]}),Object(U.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(U.jsx)(Pe,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Invoices"}),Object(U.jsx)("div",{className:"mb-2",children:Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:12,children:Object(U.jsx)(P.a,{placeholder:"Search...",value:ne,onChange:function(e){return re(e.target.value)}})})})}),Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(g.a,{dataSource:_,columns:le,bordered:!0,pagination:{position:["bottomRight","topRight"],pageSizeOptions:ue,current:Y,pageSize:G,onChange:function(e){z(e)},onShowSizeChange:function(e,t){H(t),z(1)},total:Z,showSizeChanger:!0},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(U.jsx)(q,{visible:d,setVisible:b,customer:p,callback:ie}),Object(U.jsx)(ke,{visible:C,setVisible:I,invoiceId:R})]})]})},we=a(346),Ce=E.a.Title,Te=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.p)();case 2:a=e.sent,console.log(a),r(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{name:e.milkCategory.name,total:parseFloat(e.carryForward)+parseFloat(e.eveningQuantity)+parseFloat(e.morningQuantity)})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){c()}),[]);var i=function(e){return"morningQuantity"==e||"eveningQuantity"==e?{render:function(t,a){return Object(U.jsx)(P.a,{onChange:function(t){return function(e,t,a){var n=parseFloat(a.carryForward||0)+parseFloat(t)+parseFloat("morningQuantity"==e?a.eveningQuantity:a.morningQuantity);document.getElementById("total_".concat(a.id)).innerHTML=n}(e,t.target.value,a)},defaultValue:t,type:"number",id:"".concat(e,"_").concat(a.id)},B())}}:"total"==e?{render:function(e,t){return Object(U.jsx)("div",{className:"font-bold",id:"total_".concat(t.id),children:e})}}:{}},_=[{label:"Item Name",name:"name"},{label:"Carry Forward",name:"carryForward"},{label:"Morning Quantity",name:"morningQuantity"},{label:"Evening Quantity",name:"eveningQuantity"},{label:"Total",name:"total"}].map((function(e){return Object(m.a)({title:Object(U.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"100px",align:e.align?e.align:"left"},i(e.name))})),l=function(){var e=Object(f.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.map((function(e){return{id:e.id,categoryId:e.categoryId,carryForward:e.carryForward,morningQuantity:document.getElementById("morningQuantity_".concat(e.id)).value,eveningQuantity:document.getElementById("eveningQuantity_".concat(e.id)).value}})),console.log(n),e.next=4,Object(w.e)(n);case 4:r=e.sent,console.log(r),1==(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.status)?K("Succesfully Saved Stock Details"):W("OOPS Something Went wrong");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(U.jsxs)(y.a,{children:[Object(U.jsx)(M.a,{span:12,children:Object(U.jsx)(Ce,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Today's Stocks"})}),Object(U.jsx)(M.a,{span:12,children:Object(U.jsx)(D.a,{type:"primary",className:"float-right",icon:Object(U.jsx)(we.a,{}),onClick:l,children:" Save "})})]}),Object(U.jsx)(y.a,{className:"w-full",children:Object(U.jsx)(M.a,{span:24,children:Object(U.jsx)(g.a,{dataSource:a,columns:_,bordered:!0,scroll:{y:"calc(100vh - 300px)"},pagination:!1,rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})})},Ie=s.a.Header,Ae=s.a.Content,Se=(s.a.Footer,s.a.Sider),Re=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(U.jsxs)(s.a,{className:"h-screen",children:[Object(U.jsx)(Se,{collapsible:!0,collapsed:a,onCollapse:function(e){return r(e)},children:Object(U.jsx)(Z,{})}),Object(U.jsxs)(s.a,{className:"site-layout",children:[Object(U.jsx)(Ie,{className:"site-layout-background",style:{padding:0},children:Object(U.jsxs)(u.a,{mode:"horizontal",style:{float:"right",width:"auto"},children:[Object(U.jsx)(u.a.Item,{icon:Object(U.jsx)(oe.a,{})},"notification"),Object(U.jsx)(u.a.Item,{icon:Object(U.jsx)(le.a,{})},"mail"),Object(U.jsx)(u.a.Item,{children:Object(U.jsx)(d.a,{size:30,icon:Object(U.jsx)(se.a,{})})},"profile")]})}),Object(U.jsxs)(Ae,{style:{margin:"0 16px"},children:[Object(U.jsx)(b.a,{style:{margin:"16px 0"},children:Object(U.jsx)(b.a.Item,{children:"Home"})}),Object(U.jsx)("div",{style:{padding:10},children:Object(U.jsxs)(l.c,{children:[Object(U.jsx)(l.a,{exact:!0,path:"/",children:Object(U.jsx)(z,{})}),Object(U.jsx)(l.a,{exact:!0,path:"/customers",children:Object(U.jsx)(ne,{})}),Object(U.jsx)(l.a,{exact:!0,path:"/milk-category",children:Object(U.jsx)(_e,{})}),Object(U.jsx)(l.a,{exact:!0,path:"/invoices",children:Object(U.jsx)(ge,{})}),Object(U.jsx)(l.a,{exact:!0,path:"/stocks",children:Object(U.jsx)(Te,{})})]})})]})]})]})};i.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(_.a,{children:Object(U.jsx)(Re,{})})}),document.getElementById("root"))},61:function(e,t,a){"use strict";var n=a(1),r=a(10),c=a(103),i=a(4),_=["label","lcol","icol","placeholder"];t.a=function(e){var t=e.label,a=e.lcol,o=e.icol,l=e.placeholder,s=Object(r.a)(e,_);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(c.a,{span:a||4,className:"mb-3",children:Object(i.jsx)("label",{className:"block font-semibold mt-5 text-right mr-10",children:t})}),Object(i.jsx)(c.a,{span:o||8,className:"mb-3",children:Object(i.jsx)("input",Object(n.a)(Object(n.a)({},s),{},{placeholder:l||t,className:"w-full py-2 px-2 mt-2 border-2"}))})]})}},97:function(e,t,a){"use strict";var n=a(1),r=a(10),c=a(87),i=a(103),_=a(4),o=["label","lcol","icol","option","selected"],l=c.a.Option;t.a=function(e){var t=e.label,a=e.lcol,s=e.icol,u=e.option,d=(e.selected,Object(r.a)(e,o));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(i.a,{span:a||4,className:"mb-3",children:Object(_.jsx)("label",{className:"block font-semibold mt-5 text-right mr-10",children:t})}),Object(_.jsx)(i.a,{span:s||8,className:"mb-3",children:Object(_.jsx)("div",{className:"mt-5",children:Object(_.jsx)(c.a,Object(n.a)(Object(n.a)({className:"w-full",placeholder:t},d),{},{children:u.map((function(e,t){return Object(_.jsx)(l,{value:e.value,children:e.text},t)}))}))})})]})}}},[[329,1,2]]]);
//# sourceMappingURL=main.432f7e8d.chunk.js.map
(this.webpackJsonpcli=this.webpackJsonpcli||[]).push([[0],{115:function(e,t,a){"use strict";t.a=[{label:"Name",name:"name",type:"input",inputType:"text"},{label:"Mobile",name:"mobile",type:"input",inputType:"text"},{label:"Type",name:"type",type:"select",inputType:"text",list:"customerType"}]},116:function(e,t,a){"use strict";t.a=[{label:"Name",name:"name",type:"input",inputType:"text"},{label:"Rates",name:"rate",type:"input",inputType:"number"},{label:"Taxable",name:"taxable",type:"select",inputType:"text",list:"taxable",defaultValue:"No"},{label:"GST Rate (%)",name:"gstRate",type:"select",inputType:"number",list:"gstRate",defaultValue:0}]},161:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(26),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(120),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(103),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(40),_common_InputField__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(60),_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(29),sweetalert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(36),sweetalert__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(sweetalert__WEBPACK_IMPORTED_MODULE_11__),_data_CustomerData__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(115),_common_SelectField__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(97),_ant_design_icons__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(208),_ant_design_icons__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(209),_MillBulkForm__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(200),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__),CustomerForm=function CustomerForm(_ref){var data=_ref.data,callback=_ref.callback,setEditData=_ref.setEditData,initialData=_data_CustomerData__WEBPACK_IMPORTED_MODULE_12__.a.reduce((function(e,t){return Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},e),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},t.name,""))}),{}),_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(initialData),_useState2=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),formData=_useState2[0],setFormData=_useState2[1],onChange=function(e){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e.target.name,e.target.value)))},onSelectChange=function(e,t){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e,t)))};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){setFormData(data)}),[data]);var setRatesToData=function(e){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},{rates:Object.values(e)}))},onSubmit=function(){var e=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.a)(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t){var a,n,_,r;return _home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(formData),!data){e.next=9;break}return e.next=4,Object(_api__WEBPACK_IMPORTED_MODULE_10__.m)(data.id,formData);case 4:n=e.sent,console.log(n),1==(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully updated customer details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error"),e.next=14;break;case 9:return e.next=11,Object(_api__WEBPACK_IMPORTED_MODULE_10__.a)(formData);case 11:r=e.sent,console.log(r),1==(null===r||void 0===r||null===(_=r.data)||void 0===_?void 0:_.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully added customer details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error");case 14:return reset(),e.next=17,callback();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),reset=function(){setFormData(initialData),setEditData(null)},customerType=[{value:"normal",name:"Normal"},{value:"special",name:"Special"}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:_data_CustomerData__WEBPACK_IMPORTED_MODULE_12__.a.map((function(field){return"input"==field.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_common_InputField__WEBPACK_IMPORTED_MODULE_9__.a,{label:field.label,type:field.inputType,name:field.name,onChange:onChange,value:formData?formData[field.name]:""},field.name):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_common_SelectField__WEBPACK_IMPORTED_MODULE_13__.a,{label:field.label,option:eval(field.list).map((function(e){return{value:e.value,text:e.name}})),showSearch:!0,optionFilterProp:"children",value:formData?formData[field.name]:"",showArrow:!1,onChange:function(e){return onSelectChange(field.name,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},field.name)}))}),"special"===(null===formData||void 0===formData?void 0:formData.type)?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_MillBulkForm__WEBPACK_IMPORTED_MODULE_16__.a,{customerId:null===data||void 0===data?void 0:data.id,type:formData.type,setRatesToData:setRatesToData}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_7__.a,{span:24,className:"text-right",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(){return reset()},className:"mr-4",icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_14__.a,{}),children:"Reset"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{type:"primary",onClick:function(){return onSubmit()},icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_15__.a,{}),children:data?"Edit":"Add"})]})})]})})};__webpack_exports__.a=CustomerForm},166:function(e,t,a){},200:function(e,t,a){"use strict";var n=a(26),_=a(3),r=a(1),c=a(4),i=a(12),l=a.n(i),o=a(0),s=a(330),u=a(120),d=a(60),m=a(29),b=(a(36),a(6)),O=s.a.Title;t.a=function(e){var t=e.customerId,a=e.type,i=e.setRatesToData,s=Object(o.useState)({}),j=Object(c.a)(s,2),p=j[0],f=j[1],x=function(){var e=Object(n.a)(l.a.mark((function e(){var a,n,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.h)(t);case 2:n=e.sent,c=null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity,o=c.reduce((function(e,a){return Object(r.a)(Object(r.a)({},e),{},Object(_.a)({},a.id,{name:a.name,rate:a.rate,categoryId:t?c.categoryId:a.id,id:a.id}))}),{}),f(o),i(o);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){"special"===a&&x()}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{level:4,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Rates"}),Object(b.jsx)(u.a,{style:{height:"200px",overflowY:"auto"},className:"border-b-2 mb-2",children:Object.values(p).map((function(e){return Object(b.jsx)(d.a,{label:e.name,type:"number",name:e.name,onChange:function(t){return function(e,t){var a=Object(r.a)(Object(r.a)({},p),{},Object(_.a)({},t.id,{name:t.name,rate:e.target.value,categoryId:t.categoryId,id:t.id}));f(a),i(a)}(t,e)},value:e.rate,lcol:2,icol:2},e.id)}))})]})})}},201:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(26),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(120),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(103),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(40),_common_InputField__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(60),_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(29),sweetalert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(36),sweetalert__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(sweetalert__WEBPACK_IMPORTED_MODULE_11__),_ant_design_icons__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(208),_ant_design_icons__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(209),_data_MilkData__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(116),_common_SelectField__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(97),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(6),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__),MilkFom=function MilkFom(_ref){var data=_ref.data,callback=_ref.callback,setEditData=_ref.setEditData,initialData=_data_MilkData__WEBPACK_IMPORTED_MODULE_14__.a.reduce((function(e,t){return Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},e),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},t.name,t.defaultValue?t.defaultValue:""))}),{}),_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(initialData),_useState2=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),formData=_useState2[0],setFormData=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!0),_useState4=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),rateDisbaled=_useState4[0],setRateDiabled=_useState4[1],onChange=function(e){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e.target.name,e.target.value)))},onSelectChange=function(e,t){"taxable"==e&&setRateDiabled("Yes"!=t),setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e,t)))};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){setFormData(data)}),[data]);var onSubmit=function(){var e=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.a)(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t){var a,n,_,r;return _home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(formData),!data){e.next=9;break}return e.next=4,Object(_api__WEBPACK_IMPORTED_MODULE_10__.n)(data.id,formData);case 4:n=e.sent,console.log(n),1==(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully updated milk details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error"),e.next=14;break;case 9:return e.next=11,Object(_api__WEBPACK_IMPORTED_MODULE_10__.c)(formData);case 11:r=e.sent,console.log(r),1==(null===r||void 0===r||null===(_=r.data)||void 0===_?void 0:_.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully added milk details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error");case 14:return reset(),e.next=17,callback();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),reset=function(){setFormData(initialData),setEditData(null)},taxable=[{value:"Yes",name:"Yes"},{value:"No",name:"No"}],gstRate=[{value:0,name:"0 %"},{value:1,name:"1 %"},{value:1.5,name:"1.5 %"},{value:3,name:"3 %"},{value:5,name:"5 %"},{value:7.5,name:"7.5 %"},{value:12,name:"12 %"},{value:18,name:"18 %"}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:_data_MilkData__WEBPACK_IMPORTED_MODULE_14__.a.map((function(field){return"input"==field.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_common_InputField__WEBPACK_IMPORTED_MODULE_9__.a,{label:field.label,type:field.inputType,name:field.name,onChange:onChange,value:formData?formData[field.name]:""},field.name):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_common_SelectField__WEBPACK_IMPORTED_MODULE_15__.a,{label:field.label,option:eval(field.list).map((function(e){return{value:e.value,text:e.name}})),showSearch:!0,optionFilterProp:"children",value:formData?formData[field.name]:field.defaultValue,showArrow:!1,onChange:function(e){return onSelectChange(field.name,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},disabled:"gstRate"==field.name&&rateDisbaled},field.name)}))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_7__.a,{span:24,className:"text-right",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(){return reset()},className:"mr-4",icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_12__.a,{}),children:"Reset"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{type:"primary",onClick:function(){return onSubmit()},icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_13__.a,{}),children:data?"Edit":"Add"})]})})]})})};__webpack_exports__.a=MilkFom},216:function(e,t,a){},29:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"i",(function(){return l})),a.d(t,"a",(function(){return o})),a.d(t,"m",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"n",(function(){return m})),a.d(t,"b",(function(){return b})),a.d(t,"g",(function(){return O})),a.d(t,"k",(function(){return j})),a.d(t,"j",(function(){return p})),a.d(t,"d",(function(){return f})),a.d(t,"e",(function(){return x})),a.d(t,"l",(function(){return E}));var n=a(192),_=a.n(n),r="http://".concat(window.location.hostname,":8000"),c=_.a.create({baseURL:r}),i=function(){return c.get("/customers")},l=function(){return c.get("/customers/dues")},o=function(e){return c.post("/customers",e)},s=function(e,t){return c.put("/customers/".concat(e),t)},u=function(e){return c.get("/milk-category".concat(e?"?customerId="+e:""))},d=function(e){return c.post("/milk-category",e)},m=function(e,t){return c.put("/milk-category/".concat(e),t)},b=function(e){return c.post("/invoices",e)},O=function(){return c.get("/invoices")},j=function(e){return c.get("/invoices?date=".concat(e))},p=function(e){return c.get("/customers/".concat(e,"/unpaid-invoices"))},f=function(e,t){return c.post("/customers/".concat(e,"/payments"),t)},x=function(e){return c.post("/stocks",{stocks:e})},E=function(){return c.get("/stocks")}},329:function(e,t,a){"use strict";a.r(t);var n=a(0),_=a.n(n),r=a(41),c=a.n(r),i=a(62),l=(a(166),a(4)),o=a(37),s=(a(167),a(216),a(332)),u=a(71),d=a(337),m=a(338),b=a(7),O=a(26),j=a(12),p=a.n(j),f=a(64),x=a.n(f),E=a(330),h=a(40),D=a(120),v=a(103),M=a(335),P=a(333),k=a(29),y=a(67),C=a.n(y),g=a(60),T=a(3),w=a(1),A=a(336),I=a(36),R=a.n(I),L=[{label:"Invoice No.",name:"invoiceNo",type:"input",inputType:"text"},{label:"Date",name:"createdAt",type:"input",inputType:"text"},{label:"Customer",name:"customerName",type:"input",inputType:"text"},{label:"Total Amount",name:"total",type:"select",inputType:"text",list:"customerType"},{label:"Status",name:"paymentStatus",type:"input",inputType:"text"},{label:"Amount Paid",name:"amountPaid",type:"input",inputType:"text"},{label:"Date Of Payment",name:"paymentDate",type:"input",inputType:"text"}];function W(e){R()({text:e,icon:"error",buttons:{cancel:{text:"Cancel",value:null,visible:!1,className:"btn-sm btn-default",closeModal:!0},confirm:{text:"OK",value:!0,visible:!0,className:"btn-sm btn-primary",closeModal:!0}}})}var K=a(6),B=E.a.Title,U=function(e){var t=e.visible,a=e.setVisible,_=e.customer,r=e.callback,c=Object(n.useState)({amountReceived:0}),i=Object(l.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)([]),d=Object(l.a)(u,2),m=d[0],b=d[1],j=function(){var e=Object(O.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.j)(null===t||void 0===t?void 0:t.id);case 2:n=e.sent,console.log(n),b(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{createdAt:C()(e.createdAt).format("DD-MM-YYYY"),paymentDate:e.paymentDate?C()(e.paymentDate).format("DD-MM-YYYY"):null})})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){_&&t&&j(_)}),[_,t]);var f=function(){var e=Object(O.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,Object(k.d)(_.id,o);case 3:return c=e.sent,console.log(c),1==(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.status)?R()("Succesfully Payment done","success"):R()("OOPS Something Went wrong","error"),t&&a(!1),e.next=9,r();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e,t,n;e="Are you sure you want to close without adding amount received ?",t=function(){a(!1)},n=function(){},R()({text:e,icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:"btn-sm btn-default",closeModal:!0},confirm:{text:"OK",value:!0,visible:!0,className:"btn-sm btn-danger",closeModal:!0}}}).then((function(e){e?t():n()}))},M=L.map((function(e){return{title:Object(K.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}})).filter((function(e){return"customerName"!==e.dataIndex}));return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(A.a,{title:"Payment",visible:t,width:"50%",style:{top:75},keyboard:!1,onCancel:function(){return x()},footer:[Object(K.jsx)(h.a,{onClick:function(){return x()},children:"Cancel"},"cancel"),Object(K.jsx)(h.a,{type:"primary",onClick:function(){return f(!0)},children:"Save"},"savclose")],children:Object(K.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(K.jsxs)(B,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:[null===_||void 0===_?void 0:_.name,"'s Due Invoices"]}),Object(K.jsx)(D.a,{className:"w-full",children:Object(K.jsx)(v.a,{span:24,children:Object(K.jsx)(P.a,{dataSource:m,columns:M,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(K.jsx)(D.a,{className:"w-full",children:Object(K.jsx)(g.a,{label:"Amount Received",type:"number",name:"amountReceived",onChange:function(e){s(Object(w.a)(Object(w.a)({},o),{},Object(T.a)({},e.target.name,e.target.value)))},value:o.amountReceived,lcol:8,icol:16},"amountReceived")})]})})})},S=a(207),N=E.a.Title,F=function(){var e=Object(n.useState)(C()().format("YYYY-MM-DD")),t=Object(l.a)(e,2),a=t[0],_=(t[1],Object(n.useState)([])),r=Object(l.a)(_,2),c=r[0],i=r[1],o=Object(n.useState)([]),s=Object(l.a)(o,2),u=s[0],d=s[1],m=Object(n.useState)([]),j=Object(l.a)(m,2),f=j[0],y=j[1],g=Object(n.useState)(!1),T=Object(l.a)(g,2),w=T[0],A=T[1],I=Object(n.useState)(null),R=Object(l.a)(I,2),L=R[0],W=R[1],B=function(){var e=Object(O.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.k)(t);case 2:n=e.sent,console.log(n),i(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(O.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.h)();case 2:a=e.sent,d(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(O.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.i)();case 2:n=e.sent,console.log(n),y(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return e.next=4,B(a);case 4:return e.next=6,q();case 6:case"end":return e.stop()}}),e)}))),[a]);var Y=u.length>0?[{title:Object(K.jsx)(E.a.Text,{ellipsis:!0,title:"Customers",children:"Customers"}),dataIndex:"customer",key:"customer",width:"150px"}].concat(Object(b.a)(u.map((function(e){return{title:Object(K.jsx)(E.a.Text,{ellipsis:!0,title:e.name,children:e.name}),dataIndex:e.id,key:e.id,width:"150px"}})))):[],Q=c.map((function(e){for(var t={customer:e.name},a=0;a<u.length;a++)t[u[a].id]=0;for(var n=e.invoices,_=0;_<n.length;_++)for(var r=n[_].milkCategory,c=0;c<r.length;c++){var i=r[c].categoryId||r[c].id;void 0==t[i]&&(t[i]=0),t[i]+=r[c].Transaction.quantity}return t})),G=[{title:Object(K.jsx)(E.a.Text,{ellipsis:!0,title:"Customers",children:"Customers"}),dataIndex:"name",key:"customer",width:"40%"},{title:Object(K.jsx)(E.a.Text,{ellipsis:!0,title:"Dues",children:"Due / Advance"}),key:"dues",width:"40%",render:function(e){return console.log(e),0==e.due||null==e.due?Object(K.jsxs)("div",{children:[" ",e.due," "]},"due"+e.id):e.due>0?Object(K.jsxs)("div",{className:"text-red-800",children:[e.due," (Due)"]},"due"+e.id):Object(K.jsxs)("div",{className:"text-green-800",children:[-e.due," (Advance)"]},"due"+e.id)}},{title:"Payments",key:"operation",width:"10%",render:function(e){return Object(K.jsx)("div",{className:"float-right",children:Object(K.jsxs)(h.a,{type:"primary",onClick:function(){return V(e)},title:"Edit",children:[Object(K.jsx)(S.a,{})," Pay"]},"edit"+e.id)})}}],V=function(e){W(e),A(!0)};return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto",overflowX:"hidden"},children:[Object(K.jsx)(N,{level:2,className:"heading",id:"mainheader",children:"Today's Report"}),Object(K.jsxs)(D.a,{gutter:[32,32],children:[Object(K.jsx)(v.a,{span:4,children:Object(K.jsx)(M.a,{title:"Total Collection",value:x()(0)})}),Object(K.jsx)(v.a,{span:4,children:Object(K.jsx)(M.a,{title:"Total Stocks",value:x()(0)})}),Object(K.jsx)(v.a,{span:4,children:Object(K.jsx)(M.a,{title:"Total Stocks Left",value:x()(0)})}),Object(K.jsx)(v.a,{span:4,children:Object(K.jsx)(M.a,{title:"Total Invoices Generated",value:x()(0)})}),Object(K.jsx)(v.a,{span:4,children:Object(K.jsx)(M.a,{title:"Total New Customers Added",value:x()(0)})})]}),Object(K.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(K.jsx)("div",{style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:Object(K.jsxs)(N,{level:3,children:["Sales Report (",a,")"]})}),Object(K.jsx)(D.a,{className:"w-full",children:Object(K.jsx)(v.a,{span:24,children:Object(K.jsx)(P.a,{dataSource:Q,columns:Y,bordered:!0,scroll:{x:1600},pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]}),Object(K.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(K.jsx)("div",{style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:Object(K.jsx)(N,{level:3,children:"All Customers"})}),Object(K.jsx)(D.a,{className:"w-full",children:Object(K.jsx)(v.a,{span:24,children:Object(K.jsx)(P.a,{dataSource:f,columns:G,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(K.jsx)(U,{visible:w,setVisible:A,customer:L,callback:q})]})]})})},q=a(339),Y=a(340),Q=a(341),G=a(342),V=a(343),z=a(344),H=(a.p,function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],_=t[1],r=Object(n.useState)(void 0),c=Object(l.a)(r,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){var e=function(){return s(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){_(!(o<=800))}),[o]),Object(K.jsxs)("div",{className:"nav-container  h-screen",children:[Object(K.jsxs)("div",{className:"logo-container",children:[Object(K.jsx)(E.a.Title,{level:2,className:"logo",children:Object(K.jsx)(i.b,{to:"/",children:"AMMS"})}),Object(K.jsx)(h.a,{className:"menu-control-container",onClick:function(){return _(!a)},children:Object(K.jsx)(q.a,{})})]}),a&&Object(K.jsxs)(u.a,{theme:"dark",children:[Object(K.jsx)(u.a.Item,{icon:Object(K.jsx)(Y.a,{}),children:Object(K.jsx)(i.b,{to:"/",children:"Home"})}),Object(K.jsx)(u.a.Item,{icon:Object(K.jsx)(Q.a,{}),children:Object(K.jsx)(i.b,{to:"/customers",children:"Customers"})}),Object(K.jsx)(u.a.Item,{icon:Object(K.jsx)(G.a,{}),children:Object(K.jsx)(i.b,{to:"/invoices",children:"Invoices"})}),Object(K.jsx)(u.a.Item,{icon:Object(K.jsx)(V.a,{}),children:Object(K.jsx)(i.b,{to:"/milk-category",children:"Milk Rates"})}),Object(K.jsx)(u.a.Item,{icon:Object(K.jsx)(z.a,{}),children:Object(K.jsx)(i.b,{to:"/stocks",children:"Stocks"})})]})]})}),J=a(161),X=a(115),Z=a(345),$=E.a.Title,ee=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],_=t[1],r=Object(n.useState)(null),c=Object(l.a)(r,2),i=c[0],o=c[1],s=function(){var e=Object(O.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.f)();case 2:a=e.sent,_(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){s()}),[]);var u=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ?")){e.next=5;break}return e.next=4,deleteGodown(t.id);case 4:s();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=X.a.map((function(e){return{title:Object(K.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}}));return d.push({title:"Action",key:"operation",width:10,render:function(e){return Object(K.jsxs)("div",{className:"float-right",children:[Object(K.jsx)(h.a,{type:"primary",onClick:function(){return function(e){o(Object(w.a)({},e))}(e)},title:"Edit",children:Object(K.jsx)(S.a,{})},"edit"+e.id),Object(K.jsx)(h.a,{type:"secondary",onClick:function(){return u(e)},className:"ml-2",title:"Delete",children:Object(K.jsx)(Z.a,{})},"delete"+e.id)]})}}),Object(K.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto"},children:[Object(K.jsxs)("div",{className:"site-layout-background p-5",children:[Object(K.jsxs)($,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:[i?"Edit":"Add"," Customer ",i?"(".concat(i.name,")"):""]}),Object(K.jsx)(J.a,{data:i,callback:s,setEditData:o})]}),Object(K.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(K.jsx)($,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Customers"}),Object(K.jsx)(D.a,{className:"w-full",children:Object(K.jsx)(v.a,{span:24,children:Object(K.jsx)(P.a,{dataSource:a,columns:d,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})]})},te=a(116),ae=a(201),ne=E.a.Title,_e=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],_=t[1],r=Object(n.useState)(null),c=Object(l.a)(r,2),i=c[0],o=c[1],s=function(){var e=Object(O.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.h)();case 2:a=e.sent,_(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){s()}),[]);var u=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ?")){e.next=5;break}return e.next=4,deleteGodown(t.id);case 4:s();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=te.a.map((function(e){return{title:Object(K.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}}));return d.push({title:"Action",key:"operation",width:10,render:function(e){return Object(K.jsxs)("div",{className:"float-right",children:[Object(K.jsx)(h.a,{type:"primary",onClick:function(){return function(e){o(Object(w.a)({},e))}(e)},title:"Edit",children:Object(K.jsx)(S.a,{})},"edit"+e.id),Object(K.jsx)(h.a,{type:"secondary",onClick:function(){return u(e)},className:"ml-2",title:"Delete",children:Object(K.jsx)(Z.a,{})},"delete"+e.id)]})}}),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("div",{className:"site-layout-background p-5",children:[Object(K.jsxs)(ne,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:[i?"Edit":"Add"," Milk Category ",i?"(".concat(i.name,")"):""]}),Object(K.jsx)(ae.a,{data:i,callback:s,setEditData:o})]}),Object(K.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(K.jsx)(ne,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Milk Categories"}),Object(K.jsx)(D.a,{className:"w-full",children:Object(K.jsx)(v.a,{span:24,children:Object(K.jsx)(P.a,{dataSource:a,columns:d,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})]})},re=a(347),ce=a(348),ie=a(349),le=a(97),oe=a(208),se=a(209),ue=a(10),de=a(334),me=a(202),be=a(87),Oe=a(331),je=["index"],pe=["title","editable","children","dataIndex","record","handleSave","customerData","milk"],fe=_.a.createContext(null),xe=function(e){e.index;var t=Object(ue.a)(e,je),a=de.a.useForm(),n=Object(l.a)(a,1)[0];return Object(K.jsx)(de.a,{form:n,component:!1,children:Object(K.jsx)(fe.Provider,{value:n,children:Object(K.jsx)("tr",Object(w.a)({},t))})})},Ee=function(e){var t=e.title,a=e.editable,_=e.children,r=e.dataIndex,c=e.record,i=e.handleSave,o=e.customerData,s=e.milk,u=Object(ue.a)(e,pe),d=Object(n.useState)(!1),m=Object(l.a)(d,2),b=m[0],O=(m[1],Object(n.useRef)(null));Object(n.useContext)(fe);Object(n.useEffect)((function(){b&&O.current.focus()}),[b]);var j=function(e,t){var a={};if("categoryName"===r){var n="special"==o.type?s[t].normal.gstRate:s[t].gstRate;a={categoryName:s[t].name,categoryId:t,rate:s[t].rate,gstRate:n},void 0!=c.quantity&&(a.total=parseFloat(a.rate)*parseFloat(c.quantity),a.totalWithTax=a.total+a.total*a.gstRate/100)}"quantity"==r&&void 0!=c.rate&&((a={quantity:t}).total=parseFloat(c.rate)*parseFloat(t),a.totalWithTax=a.total+a.total*c.gstRate/100),i(Object(w.a)(Object(w.a)({},c),a))},p=_;return a&&(p="Total Amount"!=c.categoryName?Object(K.jsx)(de.a.Item,{style:{margin:0},name:r,rules:[{required:!0,message:"".concat(t," is required.")}],children:"categoryName"!==r?Object(K.jsx)(me.a,{onChange:function(e){return j(0,e.target.value)}}):Object(K.jsx)(be.a,{label:"Customer",editable:!0,showSearch:!0,optionFilterProp:"children",showArrow:!1,onChange:function(e){return j(0,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:Object.values(s).map((function(e,t){return Object(K.jsx)(Option,{value:e.id,children:e.name},t)}))},"customerId")}):Object(K.jsx)("div",{className:"editable-cell-value-wrap font-bold",style:{paddingRight:24,fontSize:"16px"},children:_})),Object(K.jsx)("td",Object(w.a)(Object(w.a)({},u),{},{children:p}))},he=function(e){var t=e.setTransactions,a=e.customerData,_=e.transactions,r=e.milk,c=Object(n.useState)([]),i=Object(l.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)(0),d=Object(l.a)(u,2),m=d[0],O=d[1];Object(n.useEffect)((function(){s(_)}),[_]);var j=function(e){var a=Object(b.a)(o),n=a.findIndex((function(t){return e.key===t.key})),_=a[n];a.splice(n,1,Object(w.a)(Object(w.a)({},_),e)),s(a),t(a)},p={body:{row:xe,cell:Ee}},f=[{title:"Item Name",dataIndex:"categoryName",width:"35%",editable:!0},{title:"Rate",dataIndex:"rate",width:"10%"},{title:"Quantity",dataIndex:"quantity",width:"10%",editable:!0},{title:"Total",dataIndex:"total",width:"10%"},{title:"GST Rate (%)",dataIndex:"gstRate",width:"10%"},{title:"Total( inc. tax)",dataIndex:"totalWithTax",width:"10%"},{title:"Action",dataIndex:"operation",width:"5%",render:function(e,t){return"Total Amount"!==t.categoryName&&o.length>=1?Object(K.jsx)(Oe.a,{title:"Sure to delete?",onConfirm:function(){return function(e){var t=o.filter((function(t){return t.key!==e}));s(t)}(t.key)},children:Object(K.jsx)("a",{children:"Delete"})}):null}}].map((function(e){return Object(w.a)(Object(w.a)({},e),{},{onCell:function(t,n){var _={};return"Total Amount"==t.categoryName&&"categoryName"==e.dataIndex&&(_={colSpan:5}),"Total Amount"!=t.categoryName||"quantity"!=e.dataIndex&&"rate"!=e.dataIndex&&"gstRate"!=e.dataIndex&&"total"!=e.dataIndex||(_={colSpan:0}),e.editable?Object(w.a)({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:j,customerData:a,milk:r},_):_}})})),x={key:m+2,categoryName:"Total Amount",totalWithTax:o.reduce((function(e,t){return e+t.totalWithTax}),0)};return Object(K.jsxs)("div",{children:[Object(K.jsx)(h.a,{onClick:function(){var e={key:m,categoryName:"Select Item",rate:"0",quantity:"0",total:0,gstRate:0,totalWithTax:0};s([].concat(Object(b.a)(o),[e])),O(m+1)},type:"primary",style:{marginBottom:16},children:"Add a item"}),Object(K.jsx)(P.a,{components:p,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:[].concat(Object(b.a)(o),[x]),columns:f})]})},De=function(e){e.data;var t=e.customers,a=e.callback,_=(e.setEditData,{invoiceNo:"",customerId:"",total:"",transactions:[],invoiceDate:C()().format("YYYY-MM-DD")}),r=Object(n.useState)(_),c=Object(l.a)(r,2),i=c[0],o=c[1],s=t?t.reduce((function(e,t){return Object(w.a)(Object(w.a)({},e),{},Object(T.a)({},t.id,t))}),{}):{},u=Object(n.useState)({}),d=Object(l.a)(u,2),m=d[0],b=d[1],j=function(){var e=Object(O.a)(p.a.mark((function e(){var t,a,n,_,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i&&i.customerId&&s[i.customerId],e.next=3,Object(k.h)(n&&"special"==n.type?n.id:void 0);case 3:_=e.sent,r=null===_||void 0===_||null===(t=_.data)||void 0===t||null===(a=t.entity)||void 0===a?void 0:a.reduce((function(e,t){return Object(w.a)(Object(w.a)({},e),{},Object(T.a)({},t.id,t))}),{}),b(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:case"end":return e.stop()}}),e)}))),[i]);var f=function(){var e=Object(O.a)(p.a.mark((function e(t){var n,_,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(i),i.transactions&&0!=(null===(n=i.transactions)||void 0===n?void 0:n.length)){e.next=4;break}return W("Please insert atleast one item"),e.abrupt("return");case 4:if(""!=i.customerId){e.next=7;break}return W("Please select customer"),e.abrupt("return");case 7:return i.total=i.transactions.reduce((function(e,t){return e+t.totalWithTax}),0),e.next=10,Object(k.b)(i);case 10:return r=e.sent,console.log(r),1==(null===r||void 0===r||null===(_=r.data)||void 0===_?void 0:_.status)?R()("Succesfully generated invoice details","success"):R()("OOPS Something Went wrong","error"),x(),console.log(s[i.customerId]),e.next=17,a(i.customerId,s[i.customerId]);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){o(_)};return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{children:[Object(K.jsxs)(D.a,{children:[Object(K.jsx)(le.a,{label:"Customer",option:t?t.map((function(e){return{value:e.id,text:e.name}})):[],showSearch:!0,optionFilterProp:"children",value:i?i.customerId:"",showArrow:!1,onChange:function(e){return function(e,t){o(Object(w.a)(Object(w.a)({},i),{},Object(T.a)({},e,t)))}("customerId",e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},"customerId"),Object(K.jsx)(g.a,{label:"Dated",type:"date",name:"invoiceDate",onChange:function(e){o(Object(w.a)(Object(w.a)({},i),{},Object(T.a)({},e.target.name,e.target.value)))},value:i?i.invoiceDate:"",disabled:!0},"invoiceDate")]}),Object(K.jsx)(D.a,{children:Object(K.jsx)(v.a,{span:24,children:Object(K.jsx)(he,{setTransactions:function(e){o(Object(w.a)(Object(w.a)({},i),{},{transactions:e}))},customerData:i&&i.customerId&&s[i.customerId],transactions:i&&i.transactions,milk:m})})}),Object(K.jsx)(D.a,{children:Object(K.jsxs)(v.a,{span:24,className:"text-right",children:[Object(K.jsx)(h.a,{onClick:function(){return x()},className:"mr-4",icon:Object(K.jsx)(oe.a,{}),children:"Reset"}),Object(K.jsx)(h.a,{type:"primary",onClick:function(){return f()},icon:Object(K.jsx)(se.a,{}),children:"Generate Invoice"})]})})]})})},ve=E.a.Title,Me=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],_=t[1],r=Object(n.useState)(null),c=Object(l.a)(r,2),i=c[0],o=c[1],s=Object(n.useState)(!1),u=Object(l.a)(s,2),d=u[0],m=u[1],b=Object(n.useState)(null),j=Object(l.a)(b,2),f=j[0],x=j[1],h=function(){var e=Object(O.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.f)();case 2:a=e.sent,_(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(O.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.g)();case 2:a=e.sent,o(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{customerName:e.customer.name,createdAt:C()(e.createdAt).format("DD-MM-YYYY"),paymentDate:e.paymentDate?C()(e.paymentDate).format("DD-MM-YYYY"):null})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){h(),M()}),[]);var y=L.map((function(e){return{title:Object(K.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}}));return Object(K.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto"},children:[Object(K.jsxs)("div",{className:"site-layout-background p-5",children:[Object(K.jsx)(ve,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Generate Invoice "}),Object(K.jsx)(De,{customers:a,callback:function(){var e=Object(O.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:x(a),m(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})]}),Object(K.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(K.jsx)(ve,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Invoices"}),Object(K.jsx)(D.a,{className:"w-full",children:Object(K.jsx)(v.a,{span:24,children:Object(K.jsx)(P.a,{dataSource:i,columns:y,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(K.jsx)(U,{visible:d,setVisible:m,customer:f,callback:M})]})]})},Pe=a(346),ke=E.a.Title,ye=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],_=t[1],r=function(){var e=Object(O.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.l)();case 2:a=e.sent,console.log(a),_(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{name:e.milkCategory.name,total:0})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){r()}),[]);var c=function(e){return"morningQuantity"==e||"eveningQuantity"==e?{render:function(t,n){return Object(K.jsx)(me.a,{onPressEnter:function(t){return function(e,t,n){var _=a.findIndex((function(e){return e.name==n.name})),r=Object(b.a)(a);r[_][e]=parseFloat(t),r[_].total=parseFloat(n.carryForward)+parseFloat(t)+parseFloat("morningQuantity"==e?n.eveningQuantity:n.morningQuantity)}(e,t.target.value,n)},defaultValue:t,type:"number",id:"".concat(e,"_").concat(n.id)},"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})))}}:{}},i=[{label:"Item Name",name:"name"},{label:"Carry Forward",name:"carryForward"},{label:"Morning Quantity",name:"morningQuantity"},{label:"Evening Quantity",name:"eveningQuantity"}].map((function(e){return Object(w.a)({title:Object(K.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"100px",align:e.align?e.align:"left"},c(e.name))})),o=function(){var e=Object(O.a)(p.a.mark((function e(){var t,n,_;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.map((function(e){return{id:e.id,categoryId:e.categoryId,carryForward:e.carryForward,morningQuantity:document.getElementById("morningQuantity_".concat(e.id)).value,eveningQuantity:document.getElementById("eveningQuantity_".concat(e.id)).value}})),console.log(n),e.next=4,Object(k.e)(n);case 4:_=e.sent,console.log(_),1==(null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.status)?(r="Succesfully Saved Stock Details",R()({text:r,icon:"info",buttons:{cancel:{text:"Cancel",value:null,visible:!1,className:"btn-sm btn-default",closeModal:!0},confirm:{text:"OK",value:!0,visible:!0,className:"btn-sm btn-info",closeModal:!0}}})):W("OOPS Something Went wrong");case 7:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(K.jsxs)(D.a,{children:[Object(K.jsx)(v.a,{span:12,children:Object(K.jsx)(ke,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Today's Stocks"})}),Object(K.jsx)(v.a,{span:12,children:Object(K.jsx)(h.a,{type:"primary",className:"float-right",icon:Object(K.jsx)(Pe.a,{}),onClick:o,children:" Save "})})]}),Object(K.jsx)(D.a,{className:"w-full",children:Object(K.jsx)(v.a,{span:24,children:Object(K.jsx)(P.a,{dataSource:a,columns:i,bordered:!0,scroll:{y:"calc(100vh - 300px)"},pagination:!1,rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})})},Ce=s.a.Header,ge=s.a.Content,Te=(s.a.Footer,s.a.Sider),we=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],_=t[1];return Object(K.jsxs)(s.a,{className:"h-screen",children:[Object(K.jsx)(Te,{collapsible:!0,collapsed:a,onCollapse:function(e){return _(e)},children:Object(K.jsx)(H,{})}),Object(K.jsxs)(s.a,{className:"site-layout",children:[Object(K.jsx)(Ce,{className:"site-layout-background",style:{padding:0},children:Object(K.jsxs)(u.a,{mode:"horizontal",style:{float:"right",width:"auto"},children:[Object(K.jsx)(u.a.Item,{icon:Object(K.jsx)(re.a,{})},"notification"),Object(K.jsx)(u.a.Item,{icon:Object(K.jsx)(ce.a,{})},"mail"),Object(K.jsx)(u.a.Item,{children:Object(K.jsx)(d.a,{size:30,icon:Object(K.jsx)(ie.a,{})})},"profile")]})}),Object(K.jsxs)(ge,{style:{margin:"0 16px"},children:[Object(K.jsx)(m.a,{style:{margin:"16px 0"},children:Object(K.jsx)(m.a.Item,{children:"Home"})}),Object(K.jsx)("div",{style:{padding:10},children:Object(K.jsxs)(o.c,{children:[Object(K.jsx)(o.a,{exact:!0,path:"/",children:Object(K.jsx)(F,{})}),Object(K.jsx)(o.a,{exact:!0,path:"/customers",children:Object(K.jsx)(ee,{})}),Object(K.jsx)(o.a,{exact:!0,path:"/milk-category",children:Object(K.jsx)(_e,{})}),Object(K.jsx)(o.a,{exact:!0,path:"/invoices",children:Object(K.jsx)(Me,{})}),Object(K.jsx)(o.a,{exact:!0,path:"/stocks",children:Object(K.jsx)(ye,{})})]})})]})]})]})};c.a.render(Object(K.jsx)(_.a.StrictMode,{children:Object(K.jsx)(i.a,{children:Object(K.jsx)(we,{})})}),document.getElementById("root"))},60:function(e,t,a){"use strict";var n=a(1),_=a(10),r=a(103),c=a(6),i=["label","lcol","icol","placeholder"];t.a=function(e){var t=e.label,a=e.lcol,l=e.icol,o=e.placeholder,s=Object(_.a)(e,i);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(r.a,{span:a||4,className:"mb-3",children:Object(c.jsx)("label",{className:"block font-semibold mt-5 text-right mr-10",children:t})}),Object(c.jsx)(r.a,{span:l||8,className:"mb-3",children:Object(c.jsx)("input",Object(n.a)(Object(n.a)({},s),{},{placeholder:o||t,className:"w-full py-2 px-2 mt-2 border-2"}))})]})}},97:function(e,t,a){"use strict";var n=a(1),_=a(10),r=a(87),c=a(103),i=a(6),l=["label","lcol","icol","option","selected"],o=r.a.Option;t.a=function(e){var t=e.label,a=e.lcol,s=e.icol,u=e.option,d=(e.selected,Object(_.a)(e,l));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(c.a,{span:a||4,className:"mb-3",children:Object(i.jsx)("label",{className:"block font-semibold mt-5 text-right mr-10",children:t})}),Object(i.jsx)(c.a,{span:s||8,className:"mb-3",children:Object(i.jsx)("div",{className:"mt-5",children:Object(i.jsx)(r.a,Object(n.a)(Object(n.a)({className:"w-full",placeholder:t},d),{},{children:u.map((function(e,t){return Object(i.jsx)(o,{value:e.value,children:e.text},t)}))}))})})]})}}},[[329,1,2]]]);
//# sourceMappingURL=main.ba82ca7b.chunk.js.map
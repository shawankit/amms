(this.webpackJsonpcli=this.webpackJsonpcli||[]).push([[0],{115:function(e,t,a){"use strict";t.a=[{label:"Name",name:"name",type:"input",inputType:"text"},{label:"Mobile",name:"mobile",type:"input",inputType:"text"},{label:"Type",name:"type",type:"select",inputType:"text",list:"customerType"}]},116:function(e,t,a){"use strict";t.a=[{label:"Name",name:"name",type:"input",inputType:"text"},{label:"Rates",name:"rate",type:"input",inputType:"number"},{label:"Taxable",name:"taxable",type:"select",inputType:"text",list:"taxable",defaultValue:"No"},{label:"GST Rate (%)",name:"gstRate",type:"select",inputType:"number",list:"gstRate",defaultValue:0}]},161:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(120),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(103),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(40),_common_InputField__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(58),_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),sweetalert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(36),sweetalert__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(sweetalert__WEBPACK_IMPORTED_MODULE_11__),_data_CustomerData__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(115),_common_SelectField__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(97),_ant_design_icons__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(208),_ant_design_icons__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(209),_MillBulkForm__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(200),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__),CustomerForm=function CustomerForm(_ref){var data=_ref.data,callback=_ref.callback,setEditData=_ref.setEditData,initialData=_data_CustomerData__WEBPACK_IMPORTED_MODULE_12__.a.reduce((function(e,t){return Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},e),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},t.name,""))}),{}),_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(initialData),_useState2=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),formData=_useState2[0],setFormData=_useState2[1],onChange=function(e){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e.target.name,e.target.value)))},onSelectChange=function(e,t){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e,t)))};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){setFormData(data)}),[data]);var setRatesToData=function(e){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},{rates:Object.values(e)}))},onSubmit=function(){var e=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.a)(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t){var a,n,_,r;return _home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(formData),!data){e.next=9;break}return e.next=4,Object(_api__WEBPACK_IMPORTED_MODULE_10__.p)(data.id,formData);case 4:n=e.sent,console.log(n),1==(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully updated customer details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error"),e.next=14;break;case 9:return e.next=11,Object(_api__WEBPACK_IMPORTED_MODULE_10__.a)(formData);case 11:r=e.sent,console.log(r),1==(null===r||void 0===r||null===(_=r.data)||void 0===_?void 0:_.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully added customer details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error");case 14:return reset(),e.next=17,callback();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),reset=function(){setFormData(initialData),setEditData(null)},customerType=[{value:"normal",name:"Normal"},{value:"special",name:"Special"}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:_data_CustomerData__WEBPACK_IMPORTED_MODULE_12__.a.map((function(field){return"input"==field.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_common_InputField__WEBPACK_IMPORTED_MODULE_9__.a,{label:field.label,type:field.inputType,name:field.name,onChange:onChange,value:formData?formData[field.name]:""},field.name):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_common_SelectField__WEBPACK_IMPORTED_MODULE_13__.a,{label:field.label,option:eval(field.list).map((function(e){return{value:e.value,text:e.name}})),showSearch:!0,optionFilterProp:"children",value:formData?formData[field.name]:"",showArrow:!1,onChange:function(e){return onSelectChange(field.name,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},field.name)}))}),"special"===(null===formData||void 0===formData?void 0:formData.type)?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_MillBulkForm__WEBPACK_IMPORTED_MODULE_16__.a,{customerId:null===data||void 0===data?void 0:data.id,type:formData.type,setRatesToData:setRatesToData}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_7__.a,{span:24,className:"text-right",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(){return reset()},className:"mr-4",icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_14__.a,{}),children:"Reset"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{type:"primary",onClick:function(){return onSubmit()},icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_15__.a,{}),children:data?"Edit":"Add"})]})})]})})};__webpack_exports__.a=CustomerForm},166:function(e,t,a){},200:function(e,t,a){"use strict";var n=a(24),_=a(3),r=a(1),c=a(4),i=a(12),l=a.n(i),o=a(0),s=a(330),u=a(120),d=a(58),b=a(28),m=(a(36),a(5)),j=s.a.Title;t.a=function(e){var t=e.customerId,a=e.type,i=e.setRatesToData,s=Object(o.useState)({}),O=Object(c.a)(s,2),p=O[0],x=O[1],f=function(){var e=Object(n.a)(l.a.mark((function e(){var a,n,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.j)(t);case 2:n=e.sent,c=null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity,o=c.reduce((function(e,a){return Object(r.a)(Object(r.a)({},e),{},Object(_.a)({},a.id,{name:a.name,rate:a.rate,categoryId:t?c.categoryId:a.id,id:a.id}))}),{}),x(o),i(o);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){"special"===a&&f()}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)(j,{level:4,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Rates"}),Object(m.jsx)(u.a,{style:{height:"200px",overflowY:"auto"},className:"border-b-2 mb-2",children:Object.values(p).map((function(e){return Object(m.jsx)(d.a,{label:e.name,type:"number",name:e.name,onChange:function(t){return function(e,t){var a=Object(r.a)(Object(r.a)({},p),{},Object(_.a)({},t.id,{name:t.name,rate:e.target.value,categoryId:t.categoryId,id:t.id}));x(a),i(a)}(t,e)},value:e.rate,lcol:2,icol:2},e.id)}))})]})})}},201:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(120),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(103),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(40),_common_InputField__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(58),_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),sweetalert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(36),sweetalert__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(sweetalert__WEBPACK_IMPORTED_MODULE_11__),_ant_design_icons__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(208),_ant_design_icons__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(209),_data_MilkData__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(116),_common_SelectField__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(97),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__),MilkFom=function MilkFom(_ref){var data=_ref.data,callback=_ref.callback,setEditData=_ref.setEditData,initialData=_data_MilkData__WEBPACK_IMPORTED_MODULE_14__.a.reduce((function(e,t){return Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},e),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},t.name,t.defaultValue?t.defaultValue:""))}),{}),_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(initialData),_useState2=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),formData=_useState2[0],setFormData=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!0),_useState4=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),rateDisbaled=_useState4[0],setRateDiabled=_useState4[1],onChange=function(e){setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e.target.name,e.target.value)))},onSelectChange=function(e,t){"taxable"==e&&setRateDiabled("Yes"!=t),setFormData(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.a)({},formData),{},Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.a)({},e,t)))};Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){setFormData(data)}),[data]);var onSubmit=function(){var e=Object(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.a)(_home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function e(t){var a,n,_,r;return _home_ankit_Ankit_milk_client_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(formData),!data){e.next=9;break}return e.next=4,Object(_api__WEBPACK_IMPORTED_MODULE_10__.q)(data.id,formData);case 4:n=e.sent,console.log(n),1==(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully updated milk details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error"),e.next=14;break;case 9:return e.next=11,Object(_api__WEBPACK_IMPORTED_MODULE_10__.c)(formData);case 11:r=e.sent,console.log(r),1==(null===r||void 0===r||null===(_=r.data)||void 0===_?void 0:_.status)?sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("Succesfully added milk details","success"):sweetalert__WEBPACK_IMPORTED_MODULE_11___default()("OOPS Something Went wrong","error");case 14:return reset(),e.next=17,callback();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),reset=function(){setFormData(initialData),setEditData(null)},taxable=[{value:"Yes",name:"Yes"},{value:"No",name:"No"}],gstRate=[{value:0,name:"0 %"},{value:1,name:"1 %"},{value:1.5,name:"1.5 %"},{value:3,name:"3 %"},{value:5,name:"5 %"},{value:7.5,name:"7.5 %"},{value:12,name:"12 %"},{value:18,name:"18 %"}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:_data_MilkData__WEBPACK_IMPORTED_MODULE_14__.a.map((function(field){return"input"==field.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_common_InputField__WEBPACK_IMPORTED_MODULE_9__.a,{label:field.label,type:field.inputType,name:field.name,onChange:onChange,value:formData?formData[field.name]:""},field.name):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_common_SelectField__WEBPACK_IMPORTED_MODULE_15__.a,{label:field.label,option:eval(field.list).map((function(e){return{value:e.value,text:e.name}})),showSearch:!0,optionFilterProp:"children",value:formData?formData[field.name]:field.defaultValue,showArrow:!1,onChange:function(e){return onSelectChange(field.name,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},disabled:"gstRate"==field.name&&rateDisbaled},field.name)}))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_7__.a,{span:24,className:"text-right",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:function(){return reset()},className:"mr-4",icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_12__.a,{}),children:"Reset"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{type:"primary",onClick:function(){return onSubmit()},icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_13__.a,{}),children:data?"Edit":"Add"})]})})]})})};__webpack_exports__.a=MilkFom},216:function(e,t,a){},28:function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"k",(function(){return l})),a.d(t,"a",(function(){return o})),a.d(t,"p",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"c",(function(){return b})),a.d(t,"q",(function(){return m})),a.d(t,"g",(function(){return j})),a.d(t,"b",(function(){return O})),a.d(t,"i",(function(){return p})),a.d(t,"n",(function(){return x})),a.d(t,"m",(function(){return f})),a.d(t,"l",(function(){return E})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return v})),a.d(t,"o",(function(){return D}));var n=a(192),_=a.n(n),r="http://".concat(window.location.hostname,":8000"),c=_.a.create({baseURL:r}),i=function(){return c.get("/customers")},l=function(){return c.get("/customers/dues")},o=function(e){return c.post("/customers",e)},s=function(e,t){return c.put("/customers/".concat(e),t)},u=function(e){return c.delete("/customers/".concat(e))},d=function(e){return c.get("/milk-category".concat(e?"?customerId="+e:""))},b=function(e){return c.post("/milk-category",e)},m=function(e,t){return c.put("/milk-category/".concat(e),t)},j=function(e){return c.delete("/milk-category/".concat(e))},O=function(e){return c.post("/invoices",e)},p=function(){return c.get("/invoices")},x=function(e){return c.get("/invoices?date=".concat(e))},f=function(e){return c.get("/invoices/".concat(e))},E=function(e){return c.get("/customers/".concat(e,"/unpaid-invoices"))},h=function(e,t){return c.post("/customers/".concat(e,"/payments"),t)},v=function(e){return c.post("/stocks",{stocks:e})},D=function(){return c.get("/stocks")}},329:function(e,t,a){"use strict";a.r(t);var n=a(0),_=a.n(n),r=a(41),c=a.n(r),i=a(63),l=(a(166),a(4)),o=a(37),s=(a(167),a(216),a(332)),u=a(71),d=a(337),b=a(338),m=a(7),j=a(24),O=a(12),p=a.n(O),x=a(65),f=a.n(x),E=a(330),h=a(40),v=a(120),D=a(103),M=a(335),P=a(333),k=a(28),y=a(59),g=a.n(y),w=a(58),C=a(3),T=a(1),I=a(336),A=a(36),R=a.n(A),L=[{label:"Invoice No.",name:"invoiceNo",type:"input",inputType:"text"},{label:"Date",name:"invoiceDate",type:"input",inputType:"text"},{label:"Customer",name:"customerName",type:"input",inputType:"text"},{label:"Total Amount",name:"total",type:"select",inputType:"text",list:"customerType"},{label:"Status",name:"paymentStatus",type:"input",inputType:"text"},{label:"Amount Paid",name:"amountPaid",type:"input",inputType:"text"},{label:"Date Of Payment",name:"paymentDate",type:"input",inputType:"text"}];function W(e){R()({text:e,icon:"error",buttons:{cancel:{text:"Cancel",value:null,visible:!1,className:"btn-sm btn-default",closeModal:!0},confirm:{text:"OK",value:!0,visible:!0,className:"btn-sm btn-primary",closeModal:!0}}})}function K(e){R()({text:e,icon:"info",buttons:{cancel:{text:"Cancel",value:null,visible:!1,className:"btn-sm btn-default",closeModal:!0},confirm:{text:"OK",value:!0,visible:!0,className:"btn-sm btn-info",closeModal:!0}}})}var B=a(5),S=E.a.Title,U=function(e){var t=e.visible,a=e.setVisible,_=e.customer,r=e.callback,c={amountReceived:0,additionalDue:0},i=Object(n.useState)(c),o=Object(l.a)(i,2),s=o[0],u=o[1],d=Object(n.useState)([]),b=Object(l.a)(d,2),m=b[0],O=b[1],x=function(e){u(Object(T.a)(Object(T.a)({},s),{},Object(C.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.l)(null===t||void 0===t?void 0:t.id);case 2:n=e.sent,console.log(n),O(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity.map((function(e){return Object(T.a)(Object(T.a)({},e),{},{invoiceDate:e.invoiceDate?g()(e.invoiceDate).format("DD-MM-YYYY"):null,paymentDate:e.paymentDate?g()(e.paymentDate).format("DD-MM-YYYY"):null})})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){_&&t&&f(_)}),[_,t]);var M=function(){var e=Object(j.a)(p.a.mark((function e(t){var n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(s),e.next=3,Object(k.d)(_.id,s);case 3:return i=e.sent,console.log(i),1==(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.status)?R()("Succesfully Payment done","success"):R()("OOPS Something Went wrong","error"),t&&a(!1),e.next=9,r();case 9:u(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e,t,n;e="Are you sure you want to close without adding amount received ?",t=function(){a(!1)},n=function(){},R()({text:e,icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:"btn-sm btn-default",closeModal:!0},confirm:{text:"OK",value:!0,visible:!0,className:"btn-sm btn-danger",closeModal:!0}}}).then((function(e){e?t():n()}))},A=L.map((function(e){return{title:Object(B.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}})).filter((function(e){return"customerName"!==e.dataIndex}));m.reduce((function(e,t){return t.total+e}),0);return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(I.a,{title:"Payment",visible:t,width:"50%",style:{top:75},keyboard:!1,onCancel:function(){return y()},footer:[Object(B.jsx)(h.a,{onClick:function(){return y()},children:"Cancel"},"cancel"),Object(B.jsx)(h.a,{type:"primary",onClick:function(){return M(!0)},children:"Save"},"savclose")],children:Object(B.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(B.jsxs)(S,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:[null===_||void 0===_?void 0:_.name,"'s Due Invoices"]}),Object(B.jsx)(v.a,{className:"w-full",children:Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(P.a,{dataSource:m,columns:A,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(B.jsxs)(v.a,{className:"w-full",children:[(null===_||void 0===_?void 0:_.previousDue)>0?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(S,{level:4,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},children:"Previous Due : ".concat(null===_||void 0===_?void 0:_.previousDue)})}),Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(S,{level:4,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},children:"Due : ".concat((null===_||void 0===_?void 0:_.due)>=0?(null===_||void 0===_?void 0:_.due)-(null===_||void 0===_?void 0:_.previousDue):0)})})]}):null,Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(S,{level:4,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},children:(null===_||void 0===_?void 0:_.due)>=0?"Total Due : ".concat(null===_||void 0===_?void 0:_.due):"Total Advance : ".concat(-(null===_||void 0===_?void 0:_.due))})}),Object(B.jsx)(w.a,{label:"Amount Received",type:"number",name:"amountReceived",onChange:x,value:s.amountReceived,lcol:8,icol:16},"amountReceived"),Object(B.jsx)(w.a,{label:"Previous Due",type:"number",name:"additionalDue",onChange:x,value:s.additionalDue,lcol:8,icol:16},"additionalDue")]})]})})})},N=a(207),q=E.a.Title,F=function(){var e=Object(n.useState)(g()().format("YYYY-MM-DD")),t=Object(l.a)(e,2),a=t[0],_=(t[1],Object(n.useState)([])),r=Object(l.a)(_,2),c=r[0],i=r[1],o=Object(n.useState)([]),s=Object(l.a)(o,2),u=s[0],d=s[1],b=Object(n.useState)([]),O=Object(l.a)(b,2),x=O[0],y=O[1],w=Object(n.useState)(!1),C=Object(l.a)(w,2),T=C[0],I=C[1],A=Object(n.useState)(null),R=Object(l.a)(A,2),L=R[0],W=R[1],K=function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.n)(t);case 2:n=e.sent,console.log(n),i(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.j)();case 2:a=e.sent,d(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.k)();case 2:n=e.sent,console.log(n),y(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.entity);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return e.next=4,K(a);case 4:return e.next=6,F();case 6:case"end":return e.stop()}}),e)}))),[a]);var Y=u.length>0?[{title:Object(B.jsx)(E.a.Text,{ellipsis:!0,title:"Customers",children:"Customers"}),dataIndex:"customer",key:"customer",width:"150px"}].concat(Object(m.a)(u.map((function(e){return{title:Object(B.jsx)(E.a.Text,{ellipsis:!0,title:e.name,children:e.name}),dataIndex:e.id,key:e.id,width:"150px"}})))):[],Q=c.map((function(e){for(var t={customer:e.name},a=0;a<u.length;a++)t[u[a].id]=0;for(var n=e.invoices,_=0;_<n.length;_++)for(var r=n[_].milkCategory,c=0;c<r.length;c++){var i=r[c].categoryId||r[c].id;void 0==t[i]&&(t[i]=0),t[i]+=r[c].Transaction.quantity}return t})),V=[{title:Object(B.jsx)(E.a.Text,{ellipsis:!0,title:"Customers",children:"Customers"}),dataIndex:"name",key:"customer",width:"40%"},{title:Object(B.jsx)(E.a.Text,{ellipsis:!0,title:"Dues",children:"Due / Advance"}),key:"dues",width:"40%",render:function(e){return 0==e.due||null==e.due?Object(B.jsxs)("div",{children:[" ",e.due," "]},"due"+e.id):e.due>0?Object(B.jsxs)("div",{className:"text-red-800",children:[e.due," (Due)"]},"due"+e.id):Object(B.jsxs)("div",{className:"text-green-800",children:[-e.due," (Advance)"]},"due"+e.id)}},{title:"Payments",key:"operation",width:"10%",render:function(e){return Object(B.jsx)("div",{className:"float-right",children:Object(B.jsxs)(h.a,{type:"primary",onClick:function(){return G(e)},title:"Edit",children:[Object(B.jsx)(N.a,{})," Pay"]},"edit"+e.id)})}}],G=function(e){W(e),I(!0)};return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto",overflowX:"hidden"},children:[Object(B.jsx)(q,{level:2,className:"heading",id:"mainheader",children:"Today's Report"}),Object(B.jsxs)(v.a,{gutter:[32,32],children:[Object(B.jsx)(D.a,{span:4,children:Object(B.jsx)(M.a,{title:"Total Collection",value:f()(0)})}),Object(B.jsx)(D.a,{span:4,children:Object(B.jsx)(M.a,{title:"Total Stocks",value:f()(0)})}),Object(B.jsx)(D.a,{span:4,children:Object(B.jsx)(M.a,{title:"Total Stocks Left",value:f()(0)})}),Object(B.jsx)(D.a,{span:4,children:Object(B.jsx)(M.a,{title:"Total Invoices Generated",value:f()(0)})}),Object(B.jsx)(D.a,{span:4,children:Object(B.jsx)(M.a,{title:"Total New Customers Added",value:f()(0)})})]}),Object(B.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(B.jsx)("div",{style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:Object(B.jsxs)(q,{level:3,children:["Sales Report (",a,")"]})}),Object(B.jsx)(v.a,{className:"w-full",children:Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(P.a,{dataSource:Q,columns:Y,bordered:!0,scroll:{x:1600},pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]}),Object(B.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(B.jsx)("div",{style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:Object(B.jsx)(q,{level:3,children:"All Customers"})}),Object(B.jsx)(v.a,{className:"w-full",children:Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(P.a,{dataSource:x,columns:V,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(B.jsx)(U,{visible:T,setVisible:I,customer:L,callback:F})]})]})})},Y=a(339),Q=a(340),V=a(341),G=a(342),z=a(343),H=a(344),J=(a.p,function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],_=t[1],r=Object(n.useState)(void 0),c=Object(l.a)(r,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){var e=function(){return s(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){_(!(o<=800))}),[o]),Object(B.jsxs)("div",{className:"nav-container  h-screen",children:[Object(B.jsxs)("div",{className:"logo-container",children:[Object(B.jsx)(E.a.Title,{level:2,className:"logo",children:Object(B.jsx)(i.b,{to:"/",children:"AMMS"})}),Object(B.jsx)(h.a,{className:"menu-control-container",onClick:function(){return _(!a)},children:Object(B.jsx)(Y.a,{})})]}),a&&Object(B.jsxs)(u.a,{theme:"dark",children:[Object(B.jsx)(u.a.Item,{icon:Object(B.jsx)(Q.a,{}),children:Object(B.jsx)(i.b,{to:"/",children:"Home"})}),Object(B.jsx)(u.a.Item,{icon:Object(B.jsx)(V.a,{}),children:Object(B.jsx)(i.b,{to:"/customers",children:"Customers"})}),Object(B.jsx)(u.a.Item,{icon:Object(B.jsx)(G.a,{}),children:Object(B.jsx)(i.b,{to:"/invoices",children:"Invoices"})}),Object(B.jsx)(u.a.Item,{icon:Object(B.jsx)(z.a,{}),children:Object(B.jsx)(i.b,{to:"/milk-category",children:"Milk Rates"})}),Object(B.jsx)(u.a.Item,{icon:Object(B.jsx)(H.a,{}),children:Object(B.jsx)(i.b,{to:"/stocks",children:"Stocks"})})]})]})}),X=a(161),Z=a(115),$=a(345),ee=E.a.Title,te=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],_=t[1],r=Object(n.useState)(null),c=Object(l.a)(r,2),i=c[0],o=c[1],s=function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.h)();case 2:a=e.sent,_(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){s()}),[]);var u=function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ?")){e.next=7;break}return e.next=4,Object(k.f)(t.id);case 4:null!==(n=e.sent)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.status?K("Succesfully Deleted"):W("OOPS!! Something went wrong"),s();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=Z.a.map((function(e){return{title:Object(B.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}}));return d.push({title:"Action",key:"operation",width:10,render:function(e){return Object(B.jsxs)("div",{className:"float-right",children:[Object(B.jsx)(h.a,{type:"primary",onClick:function(){return function(e){o(Object(T.a)({},e))}(e)},title:"Edit",children:Object(B.jsx)(N.a,{})},"edit"+e.id),Object(B.jsx)(h.a,{type:"secondary",onClick:function(){return u(e)},className:"ml-2",title:"Delete",children:Object(B.jsx)($.a,{})},"delete"+e.id)]})}}),Object(B.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto"},children:[Object(B.jsxs)("div",{className:"site-layout-background p-5",children:[Object(B.jsxs)(ee,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:[i?"Edit":"Add"," Customer ",i?"(".concat(i.name,")"):""]}),Object(B.jsx)(X.a,{data:i,callback:s,setEditData:o})]}),Object(B.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(B.jsx)(ee,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Customers"}),Object(B.jsx)(v.a,{className:"w-full",children:Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(P.a,{dataSource:a,columns:d,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})]})},ae=a(116),ne=a(201),_e=E.a.Title,re=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],_=t[1],r=Object(n.useState)(null),c=Object(l.a)(r,2),i=c[0],o=c[1],s=function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.j)();case 2:a=e.sent,_(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){s()}),[]);var u=function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete ?")){e.next=7;break}return e.next=4,Object(k.g)(t.id);case 4:null!==(n=e.sent)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.status?K("Succesfully Deleted"):W("OOPS!! Something went wrong"),s();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=ae.a.map((function(e){return{title:Object(B.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"}}));return d.push({title:"Action",key:"operation",width:10,render:function(e){return Object(B.jsxs)("div",{className:"float-right",children:[Object(B.jsx)(h.a,{type:"primary",onClick:function(){return function(e){o(Object(T.a)({},e))}(e)},title:"Edit",children:Object(B.jsx)(N.a,{})},"edit"+e.id),Object(B.jsx)(h.a,{type:"secondary",onClick:function(){return u(e)},className:"ml-2",title:"Delete",children:Object(B.jsx)($.a,{})},"delete"+e.id)]})}}),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{className:"site-layout-background p-5",children:[Object(B.jsxs)(_e,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:[i?"Edit":"Add"," Milk Category ",i?"(".concat(i.name,")"):""]}),Object(B.jsx)(ne.a,{data:i,callback:s,setEditData:o})]}),Object(B.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(B.jsx)(_e,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Milk Categories"}),Object(B.jsx)(v.a,{className:"w-full",children:Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(P.a,{dataSource:a,columns:d,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})]})},ce=a(347),ie=a(348),le=a(349),oe=a(97),se=a(208),ue=a(209),de=a(10),be=a(334),me=a(202),je=a(87),Oe=a(331),pe=["index"],xe=["title","editable","children","dataIndex","record","handleSave","customerData","milk"],fe=_.a.createContext(null),Ee=function(e){e.index;var t=Object(de.a)(e,pe),a=be.a.useForm(),n=Object(l.a)(a,1)[0];return Object(B.jsx)(be.a,{form:n,component:!1,children:Object(B.jsx)(fe.Provider,{value:n,children:Object(B.jsx)("tr",Object(T.a)({},t))})})},he=function(e){var t=e.title,a=e.editable,_=e.children,r=e.dataIndex,c=e.record,i=e.handleSave,o=e.customerData,s=e.milk,u=Object(de.a)(e,xe),d=Object(n.useState)(!1),b=Object(l.a)(d,2),m=b[0],j=(b[1],Object(n.useRef)(null));Object(n.useContext)(fe);Object(n.useEffect)((function(){m&&j.current.focus()}),[m]);var O=function(e,t){var a={};if("categoryName"===r){var n="special"==o.type?s[t].normal.gstRate:s[t].gstRate;a={categoryName:s[t].name,categoryId:t,rate:s[t].rate,gstRate:n},void 0!=c.quantity&&(a.total=Math.round(parseFloat(a.rate)*parseFloat(c.quantity)*10)/10,a.totalWithTax=Math.round(10*(a.total+a.total*a.gstRate/100))/10)}"quantity"==r&&void 0!=c.rate&&((a={quantity:t}).total=Math.round(parseFloat(c.rate)*parseFloat(t)*10)/10,a.totalWithTax=Math.round(10*(a.total+a.total*c.gstRate/100))/10),i(Object(T.a)(Object(T.a)({},c),a))},p=_;return a&&(p="Total Amount"!=c.categoryName?Object(B.jsx)(be.a.Item,{style:{margin:0},name:r,rules:[{required:!0,message:"".concat(t," is required.")}],children:"categoryName"!==r?Object(B.jsx)(me.a,{onChange:function(e){return O(0,e.target.value)}}):Object(B.jsx)(je.a,{label:"Customer",editable:!0,showSearch:!0,optionFilterProp:"children",showArrow:!1,onChange:function(e){return O(0,e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:Object.values(s).map((function(e,t){return Object(B.jsx)(Option,{value:e.id,children:e.name},t)}))},"customerId")}):Object(B.jsx)("div",{className:"editable-cell-value-wrap font-bold",style:{paddingRight:24,fontSize:"16px"},children:_})),Object(B.jsx)("td",Object(T.a)(Object(T.a)({},u),{},{children:p}))},ve=function(e){var t=e.setTransactions,a=e.customerData,_=e.transactions,r=e.milk,c=e.notEditable,i=Object(n.useState)([]),o=Object(l.a)(i,2),s=o[0],u=o[1],d=Object(n.useState)(0),b=Object(l.a)(d,2),j=b[0],O=b[1];Object(n.useEffect)((function(){u(_)}),[_]);var p=[{title:"Item Name",dataIndex:"categoryName",width:"35%",editable:!c},{title:"Rate",dataIndex:"rate",width:"10%"},{title:"Quantity",dataIndex:"quantity",width:"10%",editable:!c},{title:"Total",dataIndex:"total",width:"10%"},{title:"GST Rate (%)",dataIndex:"gstRate",width:"10%"},{title:"Total( inc. tax)",dataIndex:"totalWithTax",width:"10%"}];c||p.push({title:"Action",dataIndex:"operation",width:"5%",render:function(e,t){return"Total Amount"!==t.categoryName&&s.length>=1?Object(B.jsx)(Oe.a,{title:"Sure to delete?",onConfirm:function(){return function(e){var t=s.filter((function(t){return t.key!==e}));u(t)}(t.key)},children:Object(B.jsx)("a",{children:"Delete"})}):null}});var x=function(e){var a=Object(m.a)(s),n=a.findIndex((function(t){return e.key===t.key})),_=a[n];a.splice(n,1,Object(T.a)(Object(T.a)({},_),e)),u(a),t(a)},f={body:{row:Ee,cell:he}},E=p.map((function(e){return Object(T.a)(Object(T.a)({},e),{},{onCell:function(t,n){var _={};return"Total Amount"==t.categoryName&&"categoryName"==e.dataIndex&&(_={colSpan:5}),"Total Amount"!=t.categoryName||"quantity"!=e.dataIndex&&"rate"!=e.dataIndex&&"gstRate"!=e.dataIndex&&"total"!=e.dataIndex||(_={colSpan:0}),e.editable?Object(T.a)({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:x,customerData:a,milk:r},_):_}})})),v={key:j+2,categoryName:"Total Amount",totalWithTax:Math.round(s.reduce((function(e,t){return e+t.totalWithTax}),0))};return Object(B.jsxs)("div",{children:[c?null:Object(B.jsx)(h.a,{onClick:function(){var e={key:j,categoryName:"Select Item",rate:"0",quantity:"0",total:0,gstRate:0,totalWithTax:0};u([].concat(Object(m.a)(s),[e])),O(j+1)},type:"primary",style:{marginBottom:16},children:"Add a item"}),Object(B.jsx)(P.a,{components:f,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:[].concat(Object(m.a)(s),[v]),columns:E})]})},De=function(e){e.data;var t=e.customers,a=e.callback,_=(e.setEditData,{invoiceNo:"",customerId:"",total:"",transactions:[],invoiceDate:g()().format("YYYY-MM-DD")}),r=Object(n.useState)(_),c=Object(l.a)(r,2),i=c[0],o=c[1],s=t?t.reduce((function(e,t){return Object(T.a)(Object(T.a)({},e),{},Object(C.a)({},t.id,t))}),{}):{},u=Object(n.useState)({}),d=Object(l.a)(u,2),b=d[0],O=d[1],x=Object(n.useState)([]),f=Object(l.a)(x,2),E=f[0],M=f[1],P=function(){var e=Object(j.a)(p.a.mark((function e(){var t,a,n,_,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i&&i.customerId&&s[i.customerId],e.next=3,Object(k.j)(n&&"special"==n.type?n.id:void 0);case 3:_=e.sent,r=null===_||void 0===_||null===(t=_.data)||void 0===t||null===(a=t.entity)||void 0===a?void 0:a.reduce((function(e,t){return Object(T.a)(Object(T.a)({},e),{},Object(C.a)({},t.id,t))}),{}),O(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:case"end":return e.stop()}}),e)}))),[i]);var y=function(){var e=Object(j.a)(p.a.mark((function e(t){var n,_,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(i),i.transactions&&0!=(null===(n=i.transactions)||void 0===n?void 0:n.length)){e.next=4;break}return W("Please insert atleast one item"),e.abrupt("return");case 4:if(""!=i.customerId){e.next=7;break}return W("Please select customer"),e.abrupt("return");case 7:return i.total=Math.round(i.transactions.reduce((function(e,t){return e+t.totalWithTax}),0)),i.existingUser=!!s[i.customerId],e.next=11,Object(k.b)(i);case 11:if(r=e.sent,console.log(r),1!=(null===r||void 0===r||null===(_=r.data)||void 0===_?void 0:_.status)){e.next=20;break}return R()("Succesfully generated invoice details","success"),I(),e.next=18,a(i.customerId,r.data.entity.customer);case 18:e.next=21;break;case 20:R()("OOPS Something Went wrong","error");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){o(_)};return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{children:[Object(B.jsxs)(v.a,{children:[Object(B.jsx)(oe.a,{label:"Customer",option:t?[].concat(Object(m.a)(t.map((function(e){return{value:e.id,text:e.name}}))),Object(m.a)(E)):Object(m.a)(E),showSearch:!0,optionFilterProp:"children",value:i?i.customerId:"",showArrow:!1,onSearch:function(e){return function(e){e&&M([{value:e,text:e}])}(e)},onChange:function(e){return function(e,t){console.log("cust",t),o(Object(T.a)(Object(T.a)({},i),{},Object(C.a)({},e,t)))}("customerId",e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},"customerId"),Object(B.jsx)(w.a,{label:"Dated",type:"date",name:"invoiceDate",onChange:function(e){o(Object(T.a)(Object(T.a)({},i),{},Object(C.a)({},e.target.name,e.target.value)))},value:i?i.invoiceDate:""},"invoiceDate")]}),Object(B.jsx)(v.a,{children:Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(ve,{setTransactions:function(e){o(Object(T.a)(Object(T.a)({},i),{},{transactions:e}))},customerData:i&&i.customerId&&(s[i.customerId]||{type:"normal"}),transactions:i&&i.transactions,milk:b})})}),Object(B.jsx)(v.a,{children:Object(B.jsxs)(D.a,{span:24,className:"text-right",children:[Object(B.jsx)(h.a,{onClick:function(){return I()},className:"mr-4",icon:Object(B.jsx)(se.a,{}),children:"Reset"}),Object(B.jsx)(h.a,{type:"primary",onClick:function(){return y()},icon:Object(B.jsx)(ue.a,{}),children:"Generate Invoice"})]})})]})})},Me=E.a.Title,Pe=function(e){var t,a=e.visible,_=e.setVisible,r=e.invoiceId,c=Object(n.useState)({transactions:[]}),i=Object(l.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)({}),d=Object(l.a)(u,2),b=(d[0],d[1],function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n,_,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.m)(t);case 2:_=e.sent,console.log(_),r=null===_||void 0===_||null===(a=_.data)||void 0===a?void 0:a.entity.milkCategory.map((function(e){var t=e.Transaction.rate*e.Transaction.quantity;return{categoryName:e.name,rate:e.Transaction.rate,quantity:e.Transaction.quantity,total:e.Transaction.rate*e.Transaction.quantity,gstRate:e.gstRate,totalWithTax:Math.round(10*(t+t*e.gstRate/100))/10}})),s(Object(T.a)(Object(T.a)({},null===_||void 0===_||null===(n=_.data)||void 0===n?void 0:n.entity),{},{transactions:r}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(n.useEffect)(Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("calling",r),!r){e.next=4;break}return e.next=4,b(r);case 4:case"end":return e.stop()}}),e)}))),[r]),Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(I.a,{title:"Invoice Details",visible:a,width:"50%",style:{top:75},keyboard:!1,onCancel:function(){return _(!1)},footer:[],children:Object(B.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(B.jsxs)(v.a,{children:[Object(B.jsx)(D.a,{span:12,children:Object(B.jsxs)(Me,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:["Customer Name : ",null===o||void 0===o||null===(t=o.customer)||void 0===t?void 0:t.name]})}),Object(B.jsx)(D.a,{span:12,children:Object(B.jsxs)(Me,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:["Dated : ",g()(null===o||void 0===o?void 0:o.invoiceDate).format("DD-MM-YYYY")]})})]}),Object(B.jsx)(v.a,{children:Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(ve,{customerData:o&&o.customerId&&(null===o||void 0===o?void 0:o.customer),transactions:o&&(null===o||void 0===o?void 0:o.transactions),milk:{},notEditable:!0})})})]})})})},ke=E.a.Title,ye=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],_=t[1],r=Object(n.useState)(null),c=Object(l.a)(r,2),i=c[0],o=c[1],s=Object(n.useState)(!1),u=Object(l.a)(s,2),d=u[0],b=u[1],m=Object(n.useState)(null),O=Object(l.a)(m,2),x=O[0],f=O[1],h=Object(n.useState)(!1),M=Object(l.a)(h,2),y=M[0],w=M[1],C=Object(n.useState)(null),I=Object(l.a)(C,2),A=I[0],R=I[1],W=function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.h)();case 2:a=e.sent,_(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.i)();case 2:a=e.sent,o(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity.map((function(e){return Object(T.a)(Object(T.a)({},e),{},{customerName:e.customer.name,invoiceDate:e.invoiceDate?g()(e.invoiceDate).format("DD-MM-YYYY"):null,paymentDate:e.paymentDate?g()(e.paymentDate).format("DD-MM-YYYY"):null})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){W(),K()}),[]);var S=function(e){return"invoiceNo"==e.name?{render:function(e,t){return console.log("data",t),Object(B.jsx)("div",{children:Object(B.jsx)("a",{onClick:function(){return e=t.id,R(e),void w(!0);var e},className:"underline text-blue-900",children:e})})}}:{}},N=L.map((function(e){return Object(T.a)({title:Object(B.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"150px"},S(e))}));return Object(B.jsxs)("div",{style:{height:"calc(100vh - 150px)",overflowY:"auto"},children:[Object(B.jsxs)("div",{className:"site-layout-background p-5",children:[Object(B.jsx)(ke,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Generate Invoice "}),Object(B.jsx)(De,{customers:a,callback:function(){var e=Object(j.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:f(a),b(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})]}),Object(B.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(B.jsx)(ke,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Invoices"}),Object(B.jsx)(v.a,{className:"w-full",children:Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(P.a,{dataSource:i,columns:N,bordered:!0,pagination:{},rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})}),Object(B.jsx)(U,{visible:d,setVisible:b,customer:x,callback:K}),Object(B.jsx)(Pe,{visible:y,setVisible:w,invoiceId:A})]})]})},ge=a(346),we=E.a.Title,Ce=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],_=t[1],r=function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.o)();case 2:a=e.sent,console.log(a),_(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.entity.map((function(e){return Object(T.a)(Object(T.a)({},e),{},{name:e.milkCategory.name,total:0})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){r()}),[]);var c=function(e){return"morningQuantity"==e||"eveningQuantity"==e?{render:function(t,n){return Object(B.jsx)(me.a,{onPressEnter:function(t){return function(e,t,n){var _=a.findIndex((function(e){return e.name==n.name})),r=Object(m.a)(a);r[_][e]=parseFloat(t),r[_].total=parseFloat(n.carryForward)+parseFloat(t)+parseFloat("morningQuantity"==e?n.eveningQuantity:n.morningQuantity)}(e,t.target.value,n)},defaultValue:t,type:"number",id:"".concat(e,"_").concat(n.id)},"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})))}}:{}},i=[{label:"Item Name",name:"name"},{label:"Carry Forward",name:"carryForward"},{label:"Morning Quantity",name:"morningQuantity"},{label:"Evening Quantity",name:"eveningQuantity"}].map((function(e){return Object(T.a)({title:Object(B.jsx)(E.a.Text,{ellipsis:!0,title:e.label,children:e.label}),dataIndex:e.name,key:e.name,width:"100px",align:e.align?e.align:"left"},c(e.name))})),o=function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,_;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.map((function(e){return{id:e.id,categoryId:e.categoryId,carryForward:e.carryForward,morningQuantity:document.getElementById("morningQuantity_".concat(e.id)).value,eveningQuantity:document.getElementById("eveningQuantity_".concat(e.id)).value}})),console.log(n),e.next=4,Object(k.e)(n);case 4:_=e.sent,console.log(_),1==(null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.status)?K("Succesfully Saved Stock Details"):W("OOPS Something Went wrong");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{className:"site-layout-background p-5 mt-1",children:[Object(B.jsxs)(v.a,{children:[Object(B.jsx)(D.a,{span:12,children:Object(B.jsx)(we,{level:3,style:{color:"rgba(107, 114, 128, var(--tw-text-opacity))"},className:"border-b-2",children:"Today's Stocks"})}),Object(B.jsx)(D.a,{span:12,children:Object(B.jsx)(h.a,{type:"primary",className:"float-right",icon:Object(B.jsx)(ge.a,{}),onClick:o,children:" Save "})})]}),Object(B.jsx)(v.a,{className:"w-full",children:Object(B.jsx)(D.a,{span:24,children:Object(B.jsx)(P.a,{dataSource:a,columns:i,bordered:!0,scroll:{y:"calc(100vh - 300px)"},pagination:!1,rowKey:function(e){return e.id+((new Date).getTime()+1e4*Math.random())}})})})]})})},Te=s.a.Header,Ie=s.a.Content,Ae=(s.a.Footer,s.a.Sider),Re=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],_=t[1];return Object(B.jsxs)(s.a,{className:"h-screen",children:[Object(B.jsx)(Ae,{collapsible:!0,collapsed:a,onCollapse:function(e){return _(e)},children:Object(B.jsx)(J,{})}),Object(B.jsxs)(s.a,{className:"site-layout",children:[Object(B.jsx)(Te,{className:"site-layout-background",style:{padding:0},children:Object(B.jsxs)(u.a,{mode:"horizontal",style:{float:"right",width:"auto"},children:[Object(B.jsx)(u.a.Item,{icon:Object(B.jsx)(ce.a,{})},"notification"),Object(B.jsx)(u.a.Item,{icon:Object(B.jsx)(ie.a,{})},"mail"),Object(B.jsx)(u.a.Item,{children:Object(B.jsx)(d.a,{size:30,icon:Object(B.jsx)(le.a,{})})},"profile")]})}),Object(B.jsxs)(Ie,{style:{margin:"0 16px"},children:[Object(B.jsx)(b.a,{style:{margin:"16px 0"},children:Object(B.jsx)(b.a.Item,{children:"Home"})}),Object(B.jsx)("div",{style:{padding:10},children:Object(B.jsxs)(o.c,{children:[Object(B.jsx)(o.a,{exact:!0,path:"/",children:Object(B.jsx)(F,{})}),Object(B.jsx)(o.a,{exact:!0,path:"/customers",children:Object(B.jsx)(te,{})}),Object(B.jsx)(o.a,{exact:!0,path:"/milk-category",children:Object(B.jsx)(re,{})}),Object(B.jsx)(o.a,{exact:!0,path:"/invoices",children:Object(B.jsx)(ye,{})}),Object(B.jsx)(o.a,{exact:!0,path:"/stocks",children:Object(B.jsx)(Ce,{})})]})})]})]})]})};c.a.render(Object(B.jsx)(_.a.StrictMode,{children:Object(B.jsx)(i.a,{children:Object(B.jsx)(Re,{})})}),document.getElementById("root"))},58:function(e,t,a){"use strict";var n=a(1),_=a(10),r=a(103),c=a(5),i=["label","lcol","icol","placeholder"];t.a=function(e){var t=e.label,a=e.lcol,l=e.icol,o=e.placeholder,s=Object(_.a)(e,i);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(r.a,{span:a||4,className:"mb-3",children:Object(c.jsx)("label",{className:"block font-semibold mt-5 text-right mr-10",children:t})}),Object(c.jsx)(r.a,{span:l||8,className:"mb-3",children:Object(c.jsx)("input",Object(n.a)(Object(n.a)({},s),{},{placeholder:o||t,className:"w-full py-2 px-2 mt-2 border-2"}))})]})}},97:function(e,t,a){"use strict";var n=a(1),_=a(10),r=a(87),c=a(103),i=a(5),l=["label","lcol","icol","option","selected"],o=r.a.Option;t.a=function(e){var t=e.label,a=e.lcol,s=e.icol,u=e.option,d=(e.selected,Object(_.a)(e,l));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(c.a,{span:a||4,className:"mb-3",children:Object(i.jsx)("label",{className:"block font-semibold mt-5 text-right mr-10",children:t})}),Object(i.jsx)(c.a,{span:s||8,className:"mb-3",children:Object(i.jsx)("div",{className:"mt-5",children:Object(i.jsx)(r.a,Object(n.a)(Object(n.a)({className:"w-full",placeholder:t},d),{},{children:u.map((function(e,t){return Object(i.jsx)(o,{value:e.value,children:e.text},t)}))}))})})]})}}},[[329,1,2]]]);
//# sourceMappingURL=main.4b5cde9b.chunk.js.map